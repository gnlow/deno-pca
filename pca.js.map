{"version":3,"sources":["../node_modules/is-any-array/src/index.js","../node_modules/ml-array-max/lib-es6/index.js","../node_modules/ml-array-min/lib-es6/index.js","../node_modules/ml-array-rescale/lib-es6/index.js","../node_modules/ml-matrix/src/inspect.js","../node_modules/ml-matrix/src/mathOperations.js","../node_modules/ml-matrix/src/util.js","../node_modules/ml-matrix/src/stat.js","../node_modules/ml-matrix/src/matrix.js","../node_modules/ml-matrix/src/views/base.js","../node_modules/ml-matrix/src/views/column.js","../node_modules/ml-matrix/src/views/columnSelection.js","../node_modules/ml-matrix/src/views/flipColumn.js","../node_modules/ml-matrix/src/views/flipRow.js","../node_modules/ml-matrix/src/views/row.js","../node_modules/ml-matrix/src/views/rowSelection.js","../node_modules/ml-matrix/src/views/selection.js","../node_modules/ml-matrix/src/views/sub.js","../node_modules/ml-matrix/src/views/transpose.js","../node_modules/ml-matrix/src/views/index.js","../node_modules/ml-matrix/src/wrap/WrapperMatrix1D.js","../node_modules/ml-matrix/src/wrap/WrapperMatrix2D.js","../node_modules/ml-matrix/src/wrap/wrap.js","../node_modules/ml-matrix/src/dc/lu.js","../node_modules/ml-matrix/src/dc/util.js","../node_modules/ml-matrix/src/dc/qr.js","../node_modules/ml-matrix/src/dc/svd.js","../node_modules/ml-matrix/src/decompositions.js","../node_modules/ml-matrix/src/determinant.js","../node_modules/ml-matrix/src/linearDependencies.js","../node_modules/ml-matrix/src/pseudoInverse.js","../node_modules/ml-matrix/src/covariance.js","../node_modules/ml-matrix/src/correlation.js","../node_modules/ml-matrix/src/dc/evd.js","../node_modules/ml-matrix/src/dc/cholesky.js","../node_modules/ml-matrix/src/dc/nipals.js","../node_modules/ml-matrix/src/index.js","pca.js","../../Users/KH/AppData/Roaming/nvm/v13.3.0/node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["max","input","TypeError","length","maxValue","i","min","minValue","rescale","options","arguments","undefined","output","Array","currentMin","currentMax","RangeError","_options$min","autoMinMax","_options$max","factor","indent","repeat","indentData","inspectMatrix","inspectMatrixWithOptions","matrix","maxRows","maxColumns","maxNumSize","constructor","name","inspectData","rows","columns","maxI","Math","maxJ","result","line","j","push","formatNumber","get","join","num","numStr","String","padEnd","precise","toPrecision","exponential","toExponential","eIndex","indexOf","e","slice","installMathOperations","AbstractMatrix","Matrix","prototype","add","value","addS","addM","set","checkMatrix","newMatrix","sub","subS","subM","subtract","subtractS","subtractM","mul","mulS","mulM","multiply","multiplyS","multiplyM","div","divS","divM","divide","divideS","divideM","mod","modS","modM","modulus","modulusS","modulusM","and","andS","andM","or","orS","orM","xor","xorS","xorM","leftShift","leftShiftS","leftShiftM","signPropagatingRightShift","signPropagatingRightShiftS","signPropagatingRightShiftM","rightShift","rightShiftS","rightShiftM","zeroFillRightShift","zeroFillRightShiftS","zeroFillRightShiftM","not","abs","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","log","log1p","log10","log2","round","sign","sin","sinh","sqrt","tan","tanh","trunc","pow","arg0","powS","powM","checkRowIndex","index","outer","checkColumnIndex","checkRowVector","vector","to1DArray","checkColumnVector","checkIndices","rowIndices","columnIndices","row","checkRowIndices","column","checkColumnIndices","rowOut","some","r","isArray","from","columnOut","c","checkRange","startRow","endRow","startColumn","endColumn","checkNumber","newArray","array","sumByRow","sum","sumByColumn","sumAll","v","productByRow","productByColumn","productAll","varianceByRow","unbiased","mean","cols","variance","sum1","sum2","x","varianceByColumn","varianceAll","size","centerByRow","centerByColumn","centerAll","getScaleByRow","scale","scaleByRow","getScaleByColumn","scaleByColumn","getScaleAll","divider","scaleAll","from1DArray","newRows","newColumns","newData","rowVector","columnVector","zeros","ones","fill","rand","random","randInt","Number","isInteger","interval","eye","diag","data","l","matrix1","matrix2","isMatrix","klass","apply","callback","call","to2DArray","copy","toJSON","isRowVector","isColumnVector","isVector","isSquare","isSymmetric","isEchelonForm","previousColumn","checked","isReducedEchelonForm","k","echelonForm","clone","h","iMax","swapRows","tmp","reducedEchelonForm","m","n","maxRow","p","pivot","Error","setSubMatrix","neg","getRow","getRowVector","setRow","row1","row2","temp","getColumn","getColumnVector","setColumn","swapColumns","column1","column2","addRowVector","subRowVector","mulRowVector","divRowVector","addColumnVector","subColumnVector","mulColumnVector","divColumnVector","mulRow","mulColumn","maxIndex","idx","minIndex","maxRowIndex","minRow","minRowIndex","maxColumn","maxColumnIndex","minColumn","minColumnIndex","norm","type","cumulativeSum","dot","vector2","vector1","mmul","other","Bcolj","Float64Array","s","strassen2x2","a11","b11","a12","b12","a21","b21","a22","b22","m1","m2","m3","m4","m5","m6","m7","c00","c01","c10","c11","strassen3x3","a00","a01","a02","a10","a20","b00","b01","b02","b10","b20","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","m20","m21","m22","m23","c02","c12","c20","c21","c22","mmulStrassen","y","r1","c1","r2","c2","console","warn","embed","mat","resultat","blockMult","a","b","halfRows","parseInt","halfCols","subMatrix","scaleRows","isFinite","scaleColumns","flipRows","middle","first","last","flipColumns","kroneckerProduct","q","transpose","sortRows","compareFunction","compareNumbers","sort","sortColumns","subMatrixRow","indices","subMatrixColumn","selection","rowIndex","columnIndex","trace","by","product","standardDeviation","center","toString","Symbol","for","randomInt","diagonal","identity","negate","tensorProduct","nRows","nColumns","arrayData","removeRow","splice","addRow","removeColumn","newRow","addColumn","BaseView","MatrixColumnView","MatrixColumnSelectionView","MatrixFlipColumnView","MatrixFlipRowView","MatrixRowView","MatrixRowSelectionView","MatrixSelectionView","MatrixSubView","MatrixTransposeView","WrapperMatrix1D","_calculateIndex","WrapperMatrix2D","wrap","LuDecomposition","lu","pivotVector","pivotSign","t","LUcolj","kmax","LU","isSingular","col","solve","count","X","determinant","lowerTriangularMatrix","upperTriangularMatrix","pivotPermutationVector","hypotenuse","QrDecomposition","qr","rdiag","nrm","QR","Rdiag","isFullRank","orthogonalMatrix","SingularValueDecomposition","computeLeftSingularVectors","computeRightSingularVectors","autoTranspose","wantu","Boolean","wantv","swapped","aux","nu","ni","U","V","work","si","nct","nrt","mrc","pp","iter","eps","EPSILON","kase","alpha","MIN_VALUE","isNaN","ks","f","cs","sn","sp","spm1","epm1","sk","ek","shift","g","Y","threshold","scols","Ls","rightSingularVectors","VL","vrows","urows","VLU","solveForDiagonal","inverse","vcols","ucols","condition","norm2","rank","tol","ii","leftSingularVectors","diagonalMatrix","useSVD","leftHandSide","rightHandSide","d","subMatrix0","subMatrix1","subMatrix2","xrange","exception","range","dependenciesOneRow","error","thresholdValue","thresholdError","returnArray","linearDependencies","results","Abis","svd","pseudoInverse","svdSolution","SVD","covariance","xMatrix","yMatrix","yIsSame","cov","correlation","sdx","sdy","corr","EigenvalueDecomposition","assumeSymmetric","tred2","tql2","H","ort","orthes","hqr2","realEigenvalues","imaginaryEigenvalues","eigenvectorMatrix","hh","dl1","c3","el1","s2","tst1","low","high","nn","exshift","z","w","ra","sa","vr","vi","notlast","cdivres","cdiv","xr","xi","yr","yi","CholeskyDecomposition","dimension","positiveDefinite","L","isPositiveDefinite","B","nipals","scaleScores","maxIterations","terminationCriteria","u","diff","tOld","counter","xResidual","residual","yResidual","betas","PCA","dataset","model","means","stdevs","S","R","excludedFeatures","isCovarianceMatrix","method","nCompNIPALS","ignoreZeroVariance","_computeFromCovarianceMatrix","_adjust","covarianceMatrix","_computeWithNIPALS","singularValues","eigenvalues","singularValue","nComponents","predictions","map","explained","getExplainedVariance","evd","EVD","reverse","dc","NIPALS","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","concat","Function","deps","cached","cache","cb"],"mappings":"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","file":"pca.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst toString = Object.prototype.toString;\n\nfunction isAnyArray(object) {\n  return toString.call(object).endsWith('Array]');\n}\n\nmodule.exports = isAnyArray;\n","import isArray from 'is-any-array';\n\n/**\n * Computes the maximum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction max(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var maxValue = input[0];\n\n  for (var i = 1; i < input.length; i++) {\n    if (input[i] > maxValue) maxValue = input[i];\n  }\n\n  return maxValue;\n}\n\nexport default max;\n","import isArray from 'is-any-array';\n\n/**\n * Computes the minimum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction min(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var minValue = input[0];\n\n  for (var i = 1; i < input.length; i++) {\n    if (input[i] < minValue) minValue = input[i];\n  }\n\n  return minValue;\n}\n\nexport default min;\n","import isArray from 'is-any-array';\nimport max from 'ml-array-max';\nimport min from 'ml-array-min';\n\n/**\n *\n * @param {Array} input\n * @param {object} [options={}]\n * @param {Array} [options.output=[]] specify the output array, can be the input array for in place modification\n */\n\nfunction rescale(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  } else if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var output;\n\n  if (options.output !== undefined) {\n    if (!isArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  var currentMin = min(input);\n  var currentMax = max(input);\n\n  if (currentMin === currentMax) {\n    throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');\n  }\n\n  var _options$min = options.min,\n      minValue = _options$min === void 0 ? options.autoMinMax ? currentMin : 0 : _options$min,\n      _options$max = options.max,\n      maxValue = _options$max === void 0 ? options.autoMinMax ? currentMax : 1 : _options$max;\n\n  if (minValue >= maxValue) {\n    throw new RangeError('min option must be smaller than max option');\n  }\n\n  var factor = (maxValue - minValue) / (currentMax - currentMin);\n\n  for (var i = 0; i < input.length; i++) {\n    output[i] = (input[i] - currentMin) * factor + minValue;\n  }\n\n  return output;\n}\n\nexport default rescale;\n","const indent = ' '.repeat(2);\nconst indentData = ' '.repeat(4);\n\nexport function inspectMatrix() {\n  return inspectMatrixWithOptions(this);\n}\n\nexport function inspectMatrixWithOptions(matrix, options = {}) {\n  const { maxRows = 15, maxColumns = 10, maxNumSize = 8 } = options;\n  return `${matrix.constructor.name} {\n${indent}[\n${indentData}${inspectData(matrix, maxRows, maxColumns, maxNumSize)}\n${indent}]\n${indent}rows: ${matrix.rows}\n${indent}columns: ${matrix.columns}\n}`;\n}\n\nfunction inspectData(matrix, maxRows, maxColumns, maxNumSize) {\n  const { rows, columns } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j), maxNumSize));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indentData}`);\n}\n\nfunction formatNumber(num, maxNumSize) {\n  const numStr = String(num);\n  if (numStr.length <= maxNumSize) {\n    return numStr.padEnd(maxNumSize, ' ');\n  }\n  const precise = num.toPrecision(maxNumSize - 2);\n  if (precise.length <= maxNumSize) {\n    return precise;\n  }\n  const exponential = num.toExponential(maxNumSize - 2);\n  const eIndex = exponential.indexOf('e');\n  const e = exponential.slice(eIndex);\n  return exponential.slice(0, maxNumSize - e.length) + e;\n}\n","export function installMathOperations(AbstractMatrix, Matrix) {\n  AbstractMatrix.prototype.add = function add(value) {\n    if (typeof value === 'number') return this.addS(value);\n    return this.addM(value);\n  };\n\n  AbstractMatrix.prototype.addS = function addS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.addM = function addM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.add = function add(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.add(value);\n  };\n\n  AbstractMatrix.prototype.sub = function sub(value) {\n    if (typeof value === 'number') return this.subS(value);\n    return this.subM(value);\n  };\n\n  AbstractMatrix.prototype.subS = function subS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.subM = function subM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sub = function sub(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sub(value);\n  };\n  AbstractMatrix.prototype.subtract = AbstractMatrix.prototype.sub;\n  AbstractMatrix.prototype.subtractS = AbstractMatrix.prototype.subS;\n  AbstractMatrix.prototype.subtractM = AbstractMatrix.prototype.subM;\n  AbstractMatrix.subtract = AbstractMatrix.sub;\n\n  AbstractMatrix.prototype.mul = function mul(value) {\n    if (typeof value === 'number') return this.mulS(value);\n    return this.mulM(value);\n  };\n\n  AbstractMatrix.prototype.mulS = function mulS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.mulM = function mulM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mul = function mul(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mul(value);\n  };\n  AbstractMatrix.prototype.multiply = AbstractMatrix.prototype.mul;\n  AbstractMatrix.prototype.multiplyS = AbstractMatrix.prototype.mulS;\n  AbstractMatrix.prototype.multiplyM = AbstractMatrix.prototype.mulM;\n  AbstractMatrix.multiply = AbstractMatrix.mul;\n\n  AbstractMatrix.prototype.div = function div(value) {\n    if (typeof value === 'number') return this.divS(value);\n    return this.divM(value);\n  };\n\n  AbstractMatrix.prototype.divS = function divS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.divM = function divM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.div = function div(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.div(value);\n  };\n  AbstractMatrix.prototype.divide = AbstractMatrix.prototype.div;\n  AbstractMatrix.prototype.divideS = AbstractMatrix.prototype.divS;\n  AbstractMatrix.prototype.divideM = AbstractMatrix.prototype.divM;\n  AbstractMatrix.divide = AbstractMatrix.div;\n\n  AbstractMatrix.prototype.mod = function mod(value) {\n    if (typeof value === 'number') return this.modS(value);\n    return this.modM(value);\n  };\n\n  AbstractMatrix.prototype.modS = function modS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.modM = function modM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mod = function mod(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mod(value);\n  };\n  AbstractMatrix.prototype.modulus = AbstractMatrix.prototype.mod;\n  AbstractMatrix.prototype.modulusS = AbstractMatrix.prototype.modS;\n  AbstractMatrix.prototype.modulusM = AbstractMatrix.prototype.modM;\n  AbstractMatrix.modulus = AbstractMatrix.mod;\n\n  AbstractMatrix.prototype.and = function and(value) {\n    if (typeof value === 'number') return this.andS(value);\n    return this.andM(value);\n  };\n\n  AbstractMatrix.prototype.andS = function andS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.andM = function andM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.and = function and(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.and(value);\n  };\n\n  AbstractMatrix.prototype.or = function or(value) {\n    if (typeof value === 'number') return this.orS(value);\n    return this.orM(value);\n  };\n\n  AbstractMatrix.prototype.orS = function orS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.orM = function orM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.or = function or(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.or(value);\n  };\n\n  AbstractMatrix.prototype.xor = function xor(value) {\n    if (typeof value === 'number') return this.xorS(value);\n    return this.xorM(value);\n  };\n\n  AbstractMatrix.prototype.xorS = function xorS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.xorM = function xorM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.xor = function xor(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.xor(value);\n  };\n\n  AbstractMatrix.prototype.leftShift = function leftShift(value) {\n    if (typeof value === 'number') return this.leftShiftS(value);\n    return this.leftShiftM(value);\n  };\n\n  AbstractMatrix.prototype.leftShiftS = function leftShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.leftShiftM = function leftShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.leftShift = function leftShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.leftShift(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShift = function signPropagatingRightShift(value) {\n    if (typeof value === 'number') return this.signPropagatingRightShiftS(value);\n    return this.signPropagatingRightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftS = function signPropagatingRightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftM = function signPropagatingRightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.signPropagatingRightShift = function signPropagatingRightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.signPropagatingRightShift(value);\n  };\n\n  AbstractMatrix.prototype.rightShift = function rightShift(value) {\n    if (typeof value === 'number') return this.rightShiftS(value);\n    return this.rightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.rightShiftS = function rightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.rightShiftM = function rightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.rightShift = function rightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.rightShift(value);\n  };\n  AbstractMatrix.prototype.zeroFillRightShift = AbstractMatrix.prototype.rightShift;\n  AbstractMatrix.prototype.zeroFillRightShiftS = AbstractMatrix.prototype.rightShiftS;\n  AbstractMatrix.prototype.zeroFillRightShiftM = AbstractMatrix.prototype.rightShiftM;\n  AbstractMatrix.zeroFillRightShift = AbstractMatrix.rightShift;\n\n  AbstractMatrix.prototype.not = function not() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, ~(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.not = function not(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.not();\n  };\n\n  AbstractMatrix.prototype.abs = function abs() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.abs(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.abs = function abs(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.abs();\n  };\n\n  AbstractMatrix.prototype.acos = function acos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acos = function acos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acos();\n  };\n\n  AbstractMatrix.prototype.acosh = function acosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acosh = function acosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acosh();\n  };\n\n  AbstractMatrix.prototype.asin = function asin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asin = function asin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asin();\n  };\n\n  AbstractMatrix.prototype.asinh = function asinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asinh = function asinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asinh();\n  };\n\n  AbstractMatrix.prototype.atan = function atan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atan = function atan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atan();\n  };\n\n  AbstractMatrix.prototype.atanh = function atanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atanh = function atanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atanh();\n  };\n\n  AbstractMatrix.prototype.cbrt = function cbrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cbrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cbrt = function cbrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cbrt();\n  };\n\n  AbstractMatrix.prototype.ceil = function ceil() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.ceil(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.ceil = function ceil(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.ceil();\n  };\n\n  AbstractMatrix.prototype.clz32 = function clz32() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.clz32(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.clz32 = function clz32(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.clz32();\n  };\n\n  AbstractMatrix.prototype.cos = function cos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cos = function cos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cos();\n  };\n\n  AbstractMatrix.prototype.cosh = function cosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cosh = function cosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cosh();\n  };\n\n  AbstractMatrix.prototype.exp = function exp() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.exp(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.exp = function exp(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.exp();\n  };\n\n  AbstractMatrix.prototype.expm1 = function expm1() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.expm1(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.expm1 = function expm1(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.expm1();\n  };\n\n  AbstractMatrix.prototype.floor = function floor() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.floor(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.floor = function floor(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.floor();\n  };\n\n  AbstractMatrix.prototype.fround = function fround() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.fround(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.fround = function fround(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.fround();\n  };\n\n  AbstractMatrix.prototype.log = function log() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log = function log(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log();\n  };\n\n  AbstractMatrix.prototype.log1p = function log1p() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log1p(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log1p = function log1p(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log1p();\n  };\n\n  AbstractMatrix.prototype.log10 = function log10() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log10(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log10 = function log10(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log10();\n  };\n\n  AbstractMatrix.prototype.log2 = function log2() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log2(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log2 = function log2(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log2();\n  };\n\n  AbstractMatrix.prototype.round = function round() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.round(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.round = function round(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.round();\n  };\n\n  AbstractMatrix.prototype.sign = function sign() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sign(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sign = function sign(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sign();\n  };\n\n  AbstractMatrix.prototype.sin = function sin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sin = function sin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sin();\n  };\n\n  AbstractMatrix.prototype.sinh = function sinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sinh = function sinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sinh();\n  };\n\n  AbstractMatrix.prototype.sqrt = function sqrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sqrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sqrt = function sqrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sqrt();\n  };\n\n  AbstractMatrix.prototype.tan = function tan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tan = function tan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tan();\n  };\n\n  AbstractMatrix.prototype.tanh = function tanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tanh = function tanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tanh();\n  };\n\n  AbstractMatrix.prototype.trunc = function trunc() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.trunc(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.trunc = function trunc(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.trunc();\n  };\n\n  AbstractMatrix.pow = function pow(matrix, arg0) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.pow(arg0);\n  };\n\n  AbstractMatrix.prototype.pow = function pow(value) {\n    if (typeof value === 'number') return this.powS(value);\n    return this.powM(value);\n  };\n\n  AbstractMatrix.prototype.powS = function powS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.pow(this.get(i, j), value));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.powM = function powM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.pow(this.get(i, j), matrix.get(i, j)));\n      }\n    }\n    return this;\n  };\n}\n","/**\n * @private\n * Check that a row index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkRowIndex(matrix, index, outer) {\n  let max = outer ? matrix.rows : matrix.rows - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Row index out of range');\n  }\n}\n\n/**\n * @private\n * Check that a column index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkColumnIndex(matrix, index, outer) {\n  let max = outer ? matrix.columns : matrix.columns - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Column index out of range');\n  }\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkRowVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.columns) {\n    throw new RangeError(\n      'vector size must be the same as the number of columns',\n    );\n  }\n  return vector;\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkColumnVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.rows) {\n    throw new RangeError('vector size must be the same as the number of rows');\n  }\n  return vector;\n}\n\nexport function checkIndices(matrix, rowIndices, columnIndices) {\n  return {\n    row: checkRowIndices(matrix, rowIndices),\n    column: checkColumnIndices(matrix, columnIndices),\n  };\n}\n\nexport function checkRowIndices(matrix, rowIndices) {\n  if (typeof rowIndices !== 'object') {\n    throw new TypeError('unexpected type for row indices');\n  }\n\n  let rowOut = rowIndices.some((r) => {\n    return r < 0 || r >= matrix.rows;\n  });\n\n  if (rowOut) {\n    throw new RangeError('row indices are out of range');\n  }\n\n  if (!Array.isArray(rowIndices)) rowIndices = Array.from(rowIndices);\n\n  return rowIndices;\n}\n\nexport function checkColumnIndices(matrix, columnIndices) {\n  if (typeof columnIndices !== 'object') {\n    throw new TypeError('unexpected type for column indices');\n  }\n\n  let columnOut = columnIndices.some((c) => {\n    return c < 0 || c >= matrix.columns;\n  });\n\n  if (columnOut) {\n    throw new RangeError('column indices are out of range');\n  }\n  if (!Array.isArray(columnIndices)) columnIndices = Array.from(columnIndices);\n\n  return columnIndices;\n}\n\nexport function checkRange(matrix, startRow, endRow, startColumn, endColumn) {\n  if (arguments.length !== 5) {\n    throw new RangeError('expected 4 arguments');\n  }\n  checkNumber('startRow', startRow);\n  checkNumber('endRow', endRow);\n  checkNumber('startColumn', startColumn);\n  checkNumber('endColumn', endColumn);\n  if (\n    startRow > endRow ||\n    startColumn > endColumn ||\n    startRow < 0 ||\n    startRow >= matrix.rows ||\n    endRow < 0 ||\n    endRow >= matrix.rows ||\n    startColumn < 0 ||\n    startColumn >= matrix.columns ||\n    endColumn < 0 ||\n    endColumn >= matrix.columns\n  ) {\n    throw new RangeError('Submatrix indices are out of range');\n  }\n}\n\nexport function newArray(length, value = 0) {\n  let array = [];\n  for (let i = 0; i < length; i++) {\n    array.push(value);\n  }\n  return array;\n}\n\nfunction checkNumber(name, value) {\n  if (typeof value !== 'number') {\n    throw new TypeError(`${name} must be a number`);\n  }\n}\n","import { newArray } from './util';\n\nexport function sumByRow(matrix) {\n  let sum = newArray(matrix.rows);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function sumByColumn(matrix) {\n  let sum = newArray(matrix.columns);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function sumAll(matrix) {\n  let v = 0;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v += matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nexport function productByRow(matrix) {\n  let sum = newArray(matrix.rows, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function productByColumn(matrix) {\n  let sum = newArray(matrix.columns, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function productAll(matrix) {\n  let v = 1;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v *= matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nexport function varianceByRow(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let i = 0; i < rows; i++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean[i];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / cols) / (cols - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / cols) / cols);\n    }\n  }\n  return variance;\n}\n\nexport function varianceByColumn(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let j = 0; j < cols; j++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let i = 0; i < rows; i++) {\n      x = matrix.get(i, j) - mean[j];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / rows) / (rows - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / rows) / rows);\n    }\n  }\n  return variance;\n}\n\nexport function varianceAll(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const size = rows * cols;\n\n  let sum1 = 0;\n  let sum2 = 0;\n  let x = 0;\n  for (let i = 0; i < rows; i++) {\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean;\n      sum1 += x;\n      sum2 += x * x;\n    }\n  }\n  if (unbiased) {\n    return (sum2 - (sum1 * sum1) / size) / (size - 1);\n  } else {\n    return (sum2 - (sum1 * sum1) / size) / size;\n  }\n}\n\nexport function centerByRow(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[i]);\n    }\n  }\n}\n\nexport function centerByColumn(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[j]);\n    }\n  }\n}\n\nexport function centerAll(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean);\n    }\n  }\n}\n\nexport function getScaleByRow(matrix) {\n  const scale = [];\n  for (let i = 0; i < matrix.rows; i++) {\n    let sum = 0;\n    for (let j = 0; j < matrix.columns; j++) {\n      sum += Math.pow(matrix.get(i, j), 2) / (matrix.columns - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nexport function scaleByRow(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[i]);\n    }\n  }\n}\n\nexport function getScaleByColumn(matrix) {\n  const scale = [];\n  for (let j = 0; j < matrix.columns; j++) {\n    let sum = 0;\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += Math.pow(matrix.get(i, j), 2) / (matrix.rows - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nexport function scaleByColumn(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[j]);\n    }\n  }\n}\n\nexport function getScaleAll(matrix) {\n  const divider = matrix.size - 1;\n  let sum = 0;\n  for (let j = 0; j < matrix.columns; j++) {\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += Math.pow(matrix.get(i, j), 2) / divider;\n    }\n  }\n  return Math.sqrt(sum);\n}\n\nexport function scaleAll(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale);\n    }\n  }\n}\n","import rescale from 'ml-array-rescale';\n\nimport { inspectMatrix, inspectMatrixWithOptions } from './inspect';\nimport { installMathOperations } from './mathOperations';\nimport {\n  sumByRow,\n  sumByColumn,\n  sumAll,\n  productByRow,\n  productByColumn,\n  productAll,\n  varianceByRow,\n  varianceByColumn,\n  varianceAll,\n  centerByRow,\n  centerByColumn,\n  centerAll,\n  scaleByRow,\n  scaleByColumn,\n  scaleAll,\n  getScaleByRow,\n  getScaleByColumn,\n  getScaleAll,\n} from './stat';\nimport {\n  checkRowVector,\n  checkRowIndex,\n  checkColumnIndex,\n  checkColumnVector,\n  checkRange,\n  checkIndices,\n} from './util';\n\nexport class AbstractMatrix {\n  static from1DArray(newRows, newColumns, newData) {\n    let length = newRows * newColumns;\n    if (length !== newData.length) {\n      throw new RangeError('data length does not match given dimensions');\n    }\n    let newMatrix = new Matrix(newRows, newColumns);\n    for (let row = 0; row < newRows; row++) {\n      for (let column = 0; column < newColumns; column++) {\n        newMatrix.set(row, column, newData[row * newColumns + column]);\n      }\n    }\n    return newMatrix;\n  }\n\n  static rowVector(newData) {\n    let vector = new Matrix(1, newData.length);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(0, i, newData[i]);\n    }\n    return vector;\n  }\n\n  static columnVector(newData) {\n    let vector = new Matrix(newData.length, 1);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(i, 0, newData[i]);\n    }\n    return vector;\n  }\n\n  static zeros(rows, columns) {\n    return new Matrix(rows, columns);\n  }\n\n  static ones(rows, columns) {\n    return new Matrix(rows, columns).fill(1);\n  }\n\n  static rand(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { random = Math.random } = options;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.set(i, j, random());\n      }\n    }\n    return matrix;\n  }\n\n  static randInt(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1000, random = Math.random } = options;\n    if (!Number.isInteger(min)) throw new TypeError('min must be an integer');\n    if (!Number.isInteger(max)) throw new TypeError('max must be an integer');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let interval = max - min;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        let value = min + Math.round(random() * interval);\n        matrix.set(i, j, value);\n      }\n    }\n    return matrix;\n  }\n\n  static eye(rows, columns, value) {\n    if (columns === undefined) columns = rows;\n    if (value === undefined) value = 1;\n    let min = Math.min(rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, value);\n    }\n    return matrix;\n  }\n\n  static diag(data, rows, columns) {\n    let l = data.length;\n    if (rows === undefined) rows = l;\n    if (columns === undefined) columns = rows;\n    let min = Math.min(l, rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, data[i]);\n    }\n    return matrix;\n  }\n\n  static min(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static max(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new this(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static checkMatrix(value) {\n    return AbstractMatrix.isMatrix(value) ? value : new Matrix(value);\n  }\n\n  static isMatrix(value) {\n    return value != null && value.klass === 'Matrix';\n  }\n\n  get size() {\n    return this.rows * this.columns;\n  }\n\n  apply(callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        callback.call(this, i, j);\n      }\n    }\n    return this;\n  }\n\n  to1DArray() {\n    let array = [];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        array.push(this.get(i, j));\n      }\n    }\n    return array;\n  }\n\n  to2DArray() {\n    let copy = [];\n    for (let i = 0; i < this.rows; i++) {\n      copy.push([]);\n      for (let j = 0; j < this.columns; j++) {\n        copy[i].push(this.get(i, j));\n      }\n    }\n    return copy;\n  }\n\n  toJSON() {\n    return this.to2DArray();\n  }\n\n  isRowVector() {\n    return this.rows === 1;\n  }\n\n  isColumnVector() {\n    return this.columns === 1;\n  }\n\n  isVector() {\n    return this.rows === 1 || this.columns === 1;\n  }\n\n  isSquare() {\n    return this.rows === this.columns;\n  }\n\n  isSymmetric() {\n    if (this.isSquare()) {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j <= i; j++) {\n          if (this.get(i, j) !== this.get(j, i)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  isEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isEchelonForm = false;\n          checked = true;\n        }\n      }\n      i++;\n    }\n    return isEchelonForm;\n  }\n\n  isReducedEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isReducedEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isReducedEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isReducedEchelonForm = false;\n          checked = true;\n        }\n      }\n      for (let k = j + 1; k < this.rows; k++) {\n        if (this.get(i, k) !== 0) {\n          isReducedEchelonForm = false;\n        }\n      }\n      i++;\n    }\n    return isReducedEchelonForm;\n  }\n\n  echelonForm() {\n    let result = this.clone();\n    let h = 0;\n    let k = 0;\n    while (h < result.rows && k < result.columns) {\n      let iMax = h;\n      for (let i = h; i < result.rows; i++) {\n        if (result.get(i, k) > result.get(iMax, k)) {\n          iMax = i;\n        }\n      }\n      if (result.get(iMax, k) === 0) {\n        k++;\n      } else {\n        result.swapRows(h, iMax);\n        let tmp = result.get(h, k);\n        for (let j = k; j < result.columns; j++) {\n          result.set(h, j, result.get(h, j) / tmp);\n        }\n        for (let i = h + 1; i < result.rows; i++) {\n          let factor = result.get(i, k) / result.get(h, k);\n          result.set(i, k, 0);\n          for (let j = k + 1; j < result.columns; j++) {\n            result.set(i, j, result.get(i, j) - result.get(h, j) * factor);\n          }\n        }\n        h++;\n        k++;\n      }\n    }\n    return result;\n  }\n\n  reducedEchelonForm() {\n    let result = this.echelonForm();\n    let m = result.columns;\n    let n = result.rows;\n    let h = n - 1;\n    while (h >= 0) {\n      if (result.maxRow(h) === 0) {\n        h--;\n      } else {\n        let p = 0;\n        let pivot = false;\n        while (p < n && pivot === false) {\n          if (result.get(h, p) === 1) {\n            pivot = true;\n          } else {\n            p++;\n          }\n        }\n        for (let i = 0; i < h; i++) {\n          let factor = result.get(i, p);\n          for (let j = p; j < m; j++) {\n            let tmp = result.get(i, j) - factor * result.get(h, j);\n            result.set(i, j, tmp);\n          }\n        }\n        h--;\n      }\n    }\n    return result;\n  }\n\n  set() {\n    throw new Error('set method is unimplemented');\n  }\n\n  get() {\n    throw new Error('get method is unimplemented');\n  }\n\n  repeat(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { rows = 1, columns = 1 } = options;\n    if (!Number.isInteger(rows) || rows <= 0) {\n      throw new TypeError('rows must be a positive integer');\n    }\n    if (!Number.isInteger(columns) || columns <= 0) {\n      throw new TypeError('columns must be a positive integer');\n    }\n    let matrix = new Matrix(this.rows * rows, this.columns * columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n      }\n    }\n    return matrix;\n  }\n\n  fill(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, value);\n      }\n    }\n    return this;\n  }\n\n  neg() {\n    return this.mulS(-1);\n  }\n\n  getRow(index) {\n    checkRowIndex(this, index);\n    let row = [];\n    for (let i = 0; i < this.columns; i++) {\n      row.push(this.get(index, i));\n    }\n    return row;\n  }\n\n  getRowVector(index) {\n    return Matrix.rowVector(this.getRow(index));\n  }\n\n  setRow(index, array) {\n    checkRowIndex(this, index);\n    array = checkRowVector(this, array);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, array[i]);\n    }\n    return this;\n  }\n\n  swapRows(row1, row2) {\n    checkRowIndex(this, row1);\n    checkRowIndex(this, row2);\n    for (let i = 0; i < this.columns; i++) {\n      let temp = this.get(row1, i);\n      this.set(row1, i, this.get(row2, i));\n      this.set(row2, i, temp);\n    }\n    return this;\n  }\n\n  getColumn(index) {\n    checkColumnIndex(this, index);\n    let column = [];\n    for (let i = 0; i < this.rows; i++) {\n      column.push(this.get(i, index));\n    }\n    return column;\n  }\n\n  getColumnVector(index) {\n    return Matrix.columnVector(this.getColumn(index));\n  }\n\n  setColumn(index, array) {\n    checkColumnIndex(this, index);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, array[i]);\n    }\n    return this;\n  }\n\n  swapColumns(column1, column2) {\n    checkColumnIndex(this, column1);\n    checkColumnIndex(this, column2);\n    for (let i = 0; i < this.rows; i++) {\n      let temp = this.get(i, column1);\n      this.set(i, column1, this.get(i, column2));\n      this.set(i, column2, temp);\n    }\n    return this;\n  }\n\n  addRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[j]);\n      }\n    }\n    return this;\n  }\n\n  subRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[j]);\n      }\n    }\n    return this;\n  }\n\n  mulRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[j]);\n      }\n    }\n    return this;\n  }\n\n  divRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[j]);\n      }\n    }\n    return this;\n  }\n\n  addColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[i]);\n      }\n    }\n    return this;\n  }\n\n  subColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[i]);\n      }\n    }\n    return this;\n  }\n\n  divColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulRow(index, value) {\n    checkRowIndex(this, index);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, this.get(index, i) * value);\n    }\n    return this;\n  }\n\n  mulColumn(index, value) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, this.get(i, index) * value);\n    }\n    return this;\n  }\n\n  max() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n\n  maxIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  min() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n\n  minIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  maxRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  maxRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  minRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  minRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  maxColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  maxColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  minColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  minColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  diag() {\n    let min = Math.min(this.rows, this.columns);\n    let diag = [];\n    for (let i = 0; i < min; i++) {\n      diag.push(this.get(i, i));\n    }\n    return diag;\n  }\n\n  norm(type = 'frobenius') {\n    let result = 0;\n    if (type === 'max') {\n      return this.max();\n    } else if (type === 'frobenius') {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j < this.columns; j++) {\n          result = result + this.get(i, j) * this.get(i, j);\n        }\n      }\n      return Math.sqrt(result);\n    } else {\n      throw new RangeError(`unknown norm type: ${type}`);\n    }\n  }\n\n  cumulativeSum() {\n    let sum = 0;\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        sum += this.get(i, j);\n        this.set(i, j, sum);\n      }\n    }\n    return this;\n  }\n\n  dot(vector2) {\n    if (AbstractMatrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n    let vector1 = this.to1DArray();\n    if (vector1.length !== vector2.length) {\n      throw new RangeError('vectors do not have the same size');\n    }\n    let dot = 0;\n    for (let i = 0; i < vector1.length; i++) {\n      dot += vector1[i] * vector2[i];\n    }\n    return dot;\n  }\n\n  mmul(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.columns;\n\n    let result = new Matrix(m, p);\n\n    let Bcolj = new Float64Array(n);\n    for (let j = 0; j < p; j++) {\n      for (let k = 0; k < n; k++) {\n        Bcolj[k] = other.get(k, j);\n      }\n\n      for (let i = 0; i < m; i++) {\n        let s = 0;\n        for (let k = 0; k < n; k++) {\n          s += this.get(i, k) * Bcolj[k];\n        }\n\n        result.set(i, j, s);\n      }\n    }\n    return result;\n  }\n\n  strassen2x2(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(2, 2);\n    const a11 = this.get(0, 0);\n    const b11 = other.get(0, 0);\n    const a12 = this.get(0, 1);\n    const b12 = other.get(0, 1);\n    const a21 = this.get(1, 0);\n    const b21 = other.get(1, 0);\n    const a22 = this.get(1, 1);\n    const b22 = other.get(1, 1);\n\n    // Compute intermediate values.\n    const m1 = (a11 + a22) * (b11 + b22);\n    const m2 = (a21 + a22) * b11;\n    const m3 = a11 * (b12 - b22);\n    const m4 = a22 * (b21 - b11);\n    const m5 = (a11 + a12) * b22;\n    const m6 = (a21 - a11) * (b11 + b12);\n    const m7 = (a12 - a22) * (b21 + b22);\n\n    // Combine intermediate values into the output.\n    const c00 = m1 + m4 - m5 + m7;\n    const c01 = m3 + m5;\n    const c10 = m2 + m4;\n    const c11 = m1 - m2 + m3 + m6;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    return result;\n  }\n\n  strassen3x3(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(3, 3);\n\n    const a00 = this.get(0, 0);\n    const a01 = this.get(0, 1);\n    const a02 = this.get(0, 2);\n    const a10 = this.get(1, 0);\n    const a11 = this.get(1, 1);\n    const a12 = this.get(1, 2);\n    const a20 = this.get(2, 0);\n    const a21 = this.get(2, 1);\n    const a22 = this.get(2, 2);\n\n    const b00 = other.get(0, 0);\n    const b01 = other.get(0, 1);\n    const b02 = other.get(0, 2);\n    const b10 = other.get(1, 0);\n    const b11 = other.get(1, 1);\n    const b12 = other.get(1, 2);\n    const b20 = other.get(2, 0);\n    const b21 = other.get(2, 1);\n    const b22 = other.get(2, 2);\n\n    const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n    const m2 = (a00 - a10) * (-b01 + b11);\n    const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n    const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n    const m5 = (a10 + a11) * (-b00 + b01);\n    const m6 = a00 * b00;\n    const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n    const m8 = (-a00 + a20) * (b02 - b12);\n    const m9 = (a20 + a21) * (-b00 + b02);\n    const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n    const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n    const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n    const m13 = (a02 - a22) * (b11 - b21);\n    const m14 = a02 * b20;\n    const m15 = (a21 + a22) * (-b20 + b21);\n    const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n    const m17 = (a02 - a12) * (b12 - b22);\n    const m18 = (a11 + a12) * (-b20 + b22);\n    const m19 = a01 * b10;\n    const m20 = a12 * b21;\n    const m21 = a10 * b02;\n    const m22 = a20 * b01;\n    const m23 = a22 * b22;\n\n    const c00 = m6 + m14 + m19;\n    const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n    const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n    const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n    const c11 = m2 + m4 + m5 + m6 + m20;\n    const c12 = m14 + m16 + m17 + m18 + m21;\n    const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n    const c21 = m12 + m13 + m14 + m15 + m22;\n    const c22 = m6 + m7 + m8 + m9 + m23;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(0, 2, c02);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    result.set(1, 2, c12);\n    result.set(2, 0, c20);\n    result.set(2, 1, c21);\n    result.set(2, 2, c22);\n    return result;\n  }\n\n  mmulStrassen(y) {\n    y = Matrix.checkMatrix(y);\n    let x = this.clone();\n    let r1 = x.rows;\n    let c1 = x.columns;\n    let r2 = y.rows;\n    let c2 = y.columns;\n    if (c1 !== r2) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`,\n      );\n    }\n\n    // Put a matrix into the top left of a matrix of zeros.\n    // `rows` and `cols` are the dimensions of the output matrix.\n    function embed(mat, rows, cols) {\n      let r = mat.rows;\n      let c = mat.columns;\n      if (r === rows && c === cols) {\n        return mat;\n      } else {\n        let resultat = AbstractMatrix.zeros(rows, cols);\n        resultat = resultat.setSubMatrix(mat, 0, 0);\n        return resultat;\n      }\n    }\n\n    // Make sure both matrices are the same size.\n    // This is exclusively for simplicity:\n    // this algorithm can be implemented with matrices of different sizes.\n\n    let r = Math.max(r1, r2);\n    let c = Math.max(c1, c2);\n    x = embed(x, r, c);\n    y = embed(y, r, c);\n\n    // Our recursive multiplication function.\n    function blockMult(a, b, rows, cols) {\n      // For small matrices, resort to naive multiplication.\n      if (rows <= 512 || cols <= 512) {\n        return a.mmul(b); // a is equivalent to this\n      }\n\n      // Apply dynamic padding.\n      if (rows % 2 === 1 && cols % 2 === 1) {\n        a = embed(a, rows + 1, cols + 1);\n        b = embed(b, rows + 1, cols + 1);\n      } else if (rows % 2 === 1) {\n        a = embed(a, rows + 1, cols);\n        b = embed(b, rows + 1, cols);\n      } else if (cols % 2 === 1) {\n        a = embed(a, rows, cols + 1);\n        b = embed(b, rows, cols + 1);\n      }\n\n      let halfRows = parseInt(a.rows / 2, 10);\n      let halfCols = parseInt(a.columns / 2, 10);\n      // Subdivide input matrices.\n      let a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n      let b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n\n      let a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n      let b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n\n      let a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n      let b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n\n      let a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n      let b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n      // Compute intermediate values.\n      let m1 = blockMult(\n        AbstractMatrix.add(a11, a22),\n        AbstractMatrix.add(b11, b22),\n        halfRows,\n        halfCols,\n      );\n      let m2 = blockMult(AbstractMatrix.add(a21, a22), b11, halfRows, halfCols);\n      let m3 = blockMult(a11, AbstractMatrix.sub(b12, b22), halfRows, halfCols);\n      let m4 = blockMult(a22, AbstractMatrix.sub(b21, b11), halfRows, halfCols);\n      let m5 = blockMult(AbstractMatrix.add(a11, a12), b22, halfRows, halfCols);\n      let m6 = blockMult(\n        AbstractMatrix.sub(a21, a11),\n        AbstractMatrix.add(b11, b12),\n        halfRows,\n        halfCols,\n      );\n      let m7 = blockMult(\n        AbstractMatrix.sub(a12, a22),\n        AbstractMatrix.add(b21, b22),\n        halfRows,\n        halfCols,\n      );\n\n      // Combine intermediate values into the output.\n      let c11 = AbstractMatrix.add(m1, m4);\n      c11.sub(m5);\n      c11.add(m7);\n      let c12 = AbstractMatrix.add(m3, m5);\n      let c21 = AbstractMatrix.add(m2, m4);\n      let c22 = AbstractMatrix.sub(m1, m2);\n      c22.add(m3);\n      c22.add(m6);\n\n      // Crop output to the desired size (undo dynamic padding).\n      let resultat = AbstractMatrix.zeros(2 * c11.rows, 2 * c11.columns);\n      resultat = resultat.setSubMatrix(c11, 0, 0);\n      resultat = resultat.setSubMatrix(c12, c11.rows, 0);\n      resultat = resultat.setSubMatrix(c21, 0, c11.columns);\n      resultat = resultat.setSubMatrix(c22, c11.rows, c11.columns);\n      return resultat.subMatrix(0, rows - 1, 0, cols - 1);\n    }\n    return blockMult(x, y, r, c);\n  }\n\n  scaleRows(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.rows; i++) {\n      const row = this.getRow(i);\n      rescale(row, { min, max, output: row });\n      newMatrix.setRow(i, row);\n    }\n    return newMatrix;\n  }\n\n  scaleColumns(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.columns; i++) {\n      const column = this.getColumn(i);\n      rescale(column, {\n        min: min,\n        max: max,\n        output: column,\n      });\n      newMatrix.setColumn(i, column);\n    }\n    return newMatrix;\n  }\n\n  flipRows() {\n    const middle = Math.ceil(this.columns / 2);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < middle; j++) {\n        let first = this.get(i, j);\n        let last = this.get(i, this.columns - 1 - j);\n        this.set(i, j, last);\n        this.set(i, this.columns - 1 - j, first);\n      }\n    }\n    return this;\n  }\n\n  flipColumns() {\n    const middle = Math.ceil(this.rows / 2);\n    for (let j = 0; j < this.columns; j++) {\n      for (let i = 0; i < middle; i++) {\n        let first = this.get(i, j);\n        let last = this.get(this.rows - 1 - i, j);\n        this.set(i, j, last);\n        this.set(this.rows - 1 - i, j, first);\n      }\n    }\n    return this;\n  }\n\n  kroneckerProduct(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.rows;\n    let q = other.columns;\n\n    let result = new Matrix(m * p, n * q);\n    for (let i = 0; i < m; i++) {\n      for (let j = 0; j < n; j++) {\n        for (let k = 0; k < p; k++) {\n          for (let l = 0; l < q; l++) {\n            result.set(p * i + k, q * j + l, this.get(i, j) * other.get(k, l));\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  transpose() {\n    let result = new Matrix(this.columns, this.rows);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        result.set(j, i, this.get(i, j));\n      }\n    }\n    return result;\n  }\n\n  sortRows(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.rows; i++) {\n      this.setRow(i, this.getRow(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  sortColumns(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.columns; i++) {\n      this.setColumn(i, this.getColumn(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  subMatrix(startRow, endRow, startColumn, endColumn) {\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    let newMatrix = new Matrix(\n      endRow - startRow + 1,\n      endColumn - startColumn + 1,\n    );\n    for (let i = startRow; i <= endRow; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        newMatrix.set(i - startRow, j - startColumn, this.get(i, j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixRow(indices, startColumn, endColumn) {\n    if (startColumn === undefined) startColumn = 0;\n    if (endColumn === undefined) endColumn = this.columns - 1;\n    if (\n      startColumn > endColumn ||\n      startColumn < 0 ||\n      startColumn >= this.columns ||\n      endColumn < 0 ||\n      endColumn >= this.columns\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(indices.length, endColumn - startColumn + 1);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        if (indices[i] < 0 || indices[i] >= this.rows) {\n          throw new RangeError(`Row index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixColumn(indices, startRow, endRow) {\n    if (startRow === undefined) startRow = 0;\n    if (endRow === undefined) endRow = this.rows - 1;\n    if (\n      startRow > endRow ||\n      startRow < 0 ||\n      startRow >= this.rows ||\n      endRow < 0 ||\n      endRow >= this.rows\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(endRow - startRow + 1, indices.length);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startRow; j <= endRow; j++) {\n        if (indices[i] < 0 || indices[i] >= this.columns) {\n          throw new RangeError(`Column index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n      }\n    }\n    return newMatrix;\n  }\n\n  setSubMatrix(matrix, startRow, startColumn) {\n    matrix = Matrix.checkMatrix(matrix);\n    let endRow = startRow + matrix.rows - 1;\n    let endColumn = startColumn + matrix.columns - 1;\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    for (let i = 0; i < matrix.rows; i++) {\n      for (let j = 0; j < matrix.columns; j++) {\n        this.set(startRow + i, startColumn + j, matrix.get(i, j));\n      }\n    }\n    return this;\n  }\n\n  selection(rowIndices, columnIndices) {\n    let indices = checkIndices(this, rowIndices, columnIndices);\n    let newMatrix = new Matrix(rowIndices.length, columnIndices.length);\n    for (let i = 0; i < indices.row.length; i++) {\n      let rowIndex = indices.row[i];\n      for (let j = 0; j < indices.column.length; j++) {\n        let columnIndex = indices.column[j];\n        newMatrix.set(i, j, this.get(rowIndex, columnIndex));\n      }\n    }\n    return newMatrix;\n  }\n\n  trace() {\n    let min = Math.min(this.rows, this.columns);\n    let trace = 0;\n    for (let i = 0; i < min; i++) {\n      trace += this.get(i, i);\n    }\n    return trace;\n  }\n\n  clone() {\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let row = 0; row < this.rows; row++) {\n      for (let column = 0; column < this.columns; column++) {\n        newMatrix.set(row, column, this.get(row, column));\n      }\n    }\n    return newMatrix;\n  }\n\n  sum(by) {\n    switch (by) {\n      case 'row':\n        return sumByRow(this);\n      case 'column':\n        return sumByColumn(this);\n      case undefined:\n        return sumAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  product(by) {\n    switch (by) {\n      case 'row':\n        return productByRow(this);\n      case 'column':\n        return productByColumn(this);\n      case undefined:\n        return productAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  mean(by) {\n    const sum = this.sum(by);\n    switch (by) {\n      case 'row': {\n        for (let i = 0; i < this.rows; i++) {\n          sum[i] /= this.columns;\n        }\n        return sum;\n      }\n      case 'column': {\n        for (let i = 0; i < this.columns; i++) {\n          sum[i] /= this.rows;\n        }\n        return sum;\n      }\n      case undefined:\n        return sum / this.size;\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  variance(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { unbiased = true, mean = this.mean(by) } = options;\n    if (typeof unbiased !== 'boolean') {\n      throw new TypeError('unbiased must be a boolean');\n    }\n    switch (by) {\n      case 'row': {\n        if (!Array.isArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByRow(this, unbiased, mean);\n      }\n      case 'column': {\n        if (!Array.isArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByColumn(this, unbiased, mean);\n      }\n      case undefined: {\n        if (typeof mean !== 'number') {\n          throw new TypeError('mean must be a number');\n        }\n        return varianceAll(this, unbiased, mean);\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  standardDeviation(by, options) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    const variance = this.variance(by, options);\n    if (by === undefined) {\n      return Math.sqrt(variance);\n    } else {\n      for (let i = 0; i < variance.length; i++) {\n        variance[i] = Math.sqrt(variance[i]);\n      }\n      return variance;\n    }\n  }\n\n  center(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { center = this.mean(by) } = options;\n    switch (by) {\n      case 'row': {\n        if (!Array.isArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByRow(this, center);\n        return this;\n      }\n      case 'column': {\n        if (!Array.isArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByColumn(this, center);\n        return this;\n      }\n      case undefined: {\n        if (typeof center !== 'number') {\n          throw new TypeError('center must be a number');\n        }\n        centerAll(this, center);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  scale(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    let scale = options.scale;\n    switch (by) {\n      case 'row': {\n        if (scale === undefined) {\n          scale = getScaleByRow(this);\n        } else if (!Array.isArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByRow(this, scale);\n        return this;\n      }\n      case 'column': {\n        if (scale === undefined) {\n          scale = getScaleByColumn(this);\n        } else if (!Array.isArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByColumn(this, scale);\n        return this;\n      }\n      case undefined: {\n        if (scale === undefined) {\n          scale = getScaleAll(this);\n        } else if (typeof scale !== 'number') {\n          throw new TypeError('scale must be a number');\n        }\n        scaleAll(this, scale);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  toString(options) {\n    return inspectMatrixWithOptions(this, options);\n  }\n}\n\nAbstractMatrix.prototype.klass = 'Matrix';\nif (typeof Symbol !== 'undefined') {\n  AbstractMatrix.prototype[\n    Symbol.for('nodejs.util.inspect.custom')\n  ] = inspectMatrix;\n}\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\n// Synonyms\nAbstractMatrix.random = AbstractMatrix.rand;\nAbstractMatrix.randomInt = AbstractMatrix.randInt;\nAbstractMatrix.diagonal = AbstractMatrix.diag;\nAbstractMatrix.prototype.diagonal = AbstractMatrix.prototype.diag;\nAbstractMatrix.identity = AbstractMatrix.eye;\nAbstractMatrix.prototype.negate = AbstractMatrix.prototype.neg;\nAbstractMatrix.prototype.tensorProduct =\n  AbstractMatrix.prototype.kroneckerProduct;\n\nexport default class Matrix extends AbstractMatrix {\n  constructor(nRows, nColumns) {\n    super();\n    if (Matrix.isMatrix(nRows)) {\n      return nRows.clone();\n    } else if (Number.isInteger(nRows) && nRows > 0) {\n      // Create an empty matrix\n      this.data = [];\n      if (Number.isInteger(nColumns) && nColumns > 0) {\n        for (let i = 0; i < nRows; i++) {\n          this.data.push(new Float64Array(nColumns));\n        }\n      } else {\n        throw new TypeError('nColumns must be a positive integer');\n      }\n    } else if (Array.isArray(nRows)) {\n      // Copy the values from the 2D array\n      const arrayData = nRows;\n      nRows = arrayData.length;\n      nColumns = arrayData[0].length;\n      if (typeof nColumns !== 'number' || nColumns === 0) {\n        throw new TypeError(\n          'Data must be a 2D array with at least one element',\n        );\n      }\n      this.data = [];\n      for (let i = 0; i < nRows; i++) {\n        if (arrayData[i].length !== nColumns) {\n          throw new RangeError('Inconsistent array dimensions');\n        }\n        this.data.push(Float64Array.from(arrayData[i]));\n      }\n    } else {\n      throw new TypeError(\n        'First argument must be a positive number or an array',\n      );\n    }\n    this.rows = nRows;\n    this.columns = nColumns;\n    return this;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n\n  removeRow(index) {\n    checkRowIndex(this, index);\n    if (this.rows === 1) {\n      throw new RangeError('A matrix cannot have less than one row');\n    }\n    this.data.splice(index, 1);\n    this.rows -= 1;\n    return this;\n  }\n\n  addRow(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.rows;\n    }\n    checkRowIndex(this, index, true);\n    array = Float64Array.from(checkRowVector(this, array, true));\n    this.data.splice(index, 0, array);\n    this.rows += 1;\n    return this;\n  }\n\n  removeColumn(index) {\n    checkColumnIndex(this, index);\n    if (this.columns === 1) {\n      throw new RangeError('A matrix cannot have less than one column');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns - 1);\n      for (let j = 0; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      for (let j = index + 1; j < this.columns; j++) {\n        newRow[j - 1] = this.data[i][j];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns -= 1;\n    return this;\n  }\n\n  addColumn(index, array) {\n    if (typeof array === 'undefined') {\n      array = index;\n      index = this.columns;\n    }\n    checkColumnIndex(this, index, true);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns + 1);\n      let j = 0;\n      for (; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      newRow[j++] = array[i];\n      for (; j < this.columns + 1; j++) {\n        newRow[j] = this.data[i][j - 1];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns += 1;\n    return this;\n  }\n}\n\ninstallMathOperations(AbstractMatrix, Matrix);\n","import { AbstractMatrix } from '../matrix';\n\nexport default class BaseView extends AbstractMatrix {\n  constructor(matrix, rows, columns) {\n    super();\n    this.matrix = matrix;\n    this.rows = rows;\n    this.columns = columns;\n  }\n}\n","import { checkColumnIndex } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixColumnView extends BaseView {\n  constructor(matrix, column) {\n    checkColumnIndex(matrix, column);\n    super(matrix, matrix.rows, 1);\n    this.column = column;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.column, value);\n    return this;\n  }\n\n  get(rowIndex) {\n    return this.matrix.get(rowIndex, this.column);\n  }\n}\n","import { checkColumnIndices } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixColumnSelectionView extends BaseView {\n  constructor(matrix, columnIndices) {\n    columnIndices = checkColumnIndices(matrix, columnIndices);\n    super(matrix, matrix.rows, columnIndices.length);\n    this.columnIndices = columnIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.columnIndices[columnIndex], value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(rowIndex, this.columnIndices[columnIndex]);\n  }\n}\n","import BaseView from './base';\n\nexport default class MatrixFlipColumnView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.rows, matrix.columns);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(rowIndex, this.columns - columnIndex - 1, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(rowIndex, this.columns - columnIndex - 1);\n  }\n}\n","import BaseView from './base';\n\nexport default class MatrixFlipRowView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.rows, matrix.columns);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.rows - rowIndex - 1, columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.rows - rowIndex - 1, columnIndex);\n  }\n}\n","import { checkRowIndex } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixRowView extends BaseView {\n  constructor(matrix, row) {\n    checkRowIndex(matrix, row);\n    super(matrix, 1, matrix.columns);\n    this.row = row;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.row, columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.row, columnIndex);\n  }\n}\n","import { checkRowIndices } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixRowSelectionView extends BaseView {\n  constructor(matrix, rowIndices) {\n    rowIndices = checkRowIndices(matrix, rowIndices);\n    super(matrix, rowIndices.length, matrix.columns);\n    this.rowIndices = rowIndices;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(this.rowIndices[rowIndex], columnIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(this.rowIndices[rowIndex], columnIndex);\n  }\n}\n","import { checkIndices } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixSelectionView extends BaseView {\n  constructor(matrix, rowIndices, columnIndices) {\n    let indices = checkIndices(matrix, rowIndices, columnIndices);\n    super(matrix, indices.row.length, indices.column.length);\n    this.rowIndices = indices.row;\n    this.columnIndices = indices.column;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(\n      this.rowIndices[rowIndex],\n      this.columnIndices[columnIndex],\n      value,\n    );\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(\n      this.rowIndices[rowIndex],\n      this.columnIndices[columnIndex],\n    );\n  }\n}\n","import { checkRange } from '../util';\n\nimport BaseView from './base';\n\nexport default class MatrixSubView extends BaseView {\n  constructor(matrix, startRow, endRow, startColumn, endColumn) {\n    checkRange(matrix, startRow, endRow, startColumn, endColumn);\n    super(matrix, endRow - startRow + 1, endColumn - startColumn + 1);\n    this.startRow = startRow;\n    this.startColumn = startColumn;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(\n      this.startRow + rowIndex,\n      this.startColumn + columnIndex,\n      value,\n    );\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(\n      this.startRow + rowIndex,\n      this.startColumn + columnIndex,\n    );\n  }\n}\n","import BaseView from './base';\n\nexport default class MatrixTransposeView extends BaseView {\n  constructor(matrix) {\n    super(matrix, matrix.columns, matrix.rows);\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.matrix.set(columnIndex, rowIndex, value);\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.matrix.get(columnIndex, rowIndex);\n  }\n}\n","export { default as MatrixColumnView } from './column';\nexport { default as MatrixColumnSelectionView } from './columnSelection';\nexport { default as MatrixFlipColumnView } from './flipColumn';\nexport { default as MatrixFlipRowView } from './flipRow';\nexport { default as MatrixRowView } from './row';\nexport { default as MatrixRowSelectionView } from './rowSelection';\nexport { default as MatrixSelectionView } from './selection';\nexport { default as MatrixSubView } from './sub';\nexport { default as MatrixTransposeView } from './transpose';\n","import { AbstractMatrix } from '../matrix';\n\nexport default class WrapperMatrix1D extends AbstractMatrix {\n  constructor(data, options = {}) {\n    const { rows = 1 } = options;\n\n    if (data.length % rows !== 0) {\n      throw new Error('the data length is not divisible by the number of rows');\n    }\n    super();\n    this.rows = rows;\n    this.columns = data.length / rows;\n    this.data = data;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    let index = this._calculateIndex(rowIndex, columnIndex);\n    this.data[index] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    let index = this._calculateIndex(rowIndex, columnIndex);\n    return this.data[index];\n  }\n\n  _calculateIndex(row, column) {\n    return row * this.columns + column;\n  }\n}\n","import { AbstractMatrix } from '../matrix';\n\nexport default class WrapperMatrix2D extends AbstractMatrix {\n  constructor(data) {\n    super();\n    this.data = data;\n    this.rows = data.length;\n    this.columns = data[0].length;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n}\n","import WrapperMatrix1D from './WrapperMatrix1D';\nimport WrapperMatrix2D from './WrapperMatrix2D';\n\nexport function wrap(array, options) {\n  if (Array.isArray(array)) {\n    if (array[0] && Array.isArray(array[0])) {\n      return new WrapperMatrix2D(array);\n    } else {\n      return new WrapperMatrix1D(array, options);\n    }\n  } else {\n    throw new Error('the argument is not an array');\n  }\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nexport default class LuDecomposition {\n  constructor(matrix) {\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n\n    let lu = matrix.clone();\n    let rows = lu.rows;\n    let columns = lu.columns;\n    let pivotVector = new Float64Array(rows);\n    let pivotSign = 1;\n    let i, j, k, p, s, t, v;\n    let LUcolj, kmax;\n\n    for (i = 0; i < rows; i++) {\n      pivotVector[i] = i;\n    }\n\n    LUcolj = new Float64Array(rows);\n\n    for (j = 0; j < columns; j++) {\n      for (i = 0; i < rows; i++) {\n        LUcolj[i] = lu.get(i, j);\n      }\n\n      for (i = 0; i < rows; i++) {\n        kmax = Math.min(i, j);\n        s = 0;\n        for (k = 0; k < kmax; k++) {\n          s += lu.get(i, k) * LUcolj[k];\n        }\n        LUcolj[i] -= s;\n        lu.set(i, j, LUcolj[i]);\n      }\n\n      p = j;\n      for (i = j + 1; i < rows; i++) {\n        if (Math.abs(LUcolj[i]) > Math.abs(LUcolj[p])) {\n          p = i;\n        }\n      }\n\n      if (p !== j) {\n        for (k = 0; k < columns; k++) {\n          t = lu.get(p, k);\n          lu.set(p, k, lu.get(j, k));\n          lu.set(j, k, t);\n        }\n\n        v = pivotVector[p];\n        pivotVector[p] = pivotVector[j];\n        pivotVector[j] = v;\n\n        pivotSign = -pivotSign;\n      }\n\n      if (j < rows && lu.get(j, j) !== 0) {\n        for (i = j + 1; i < rows; i++) {\n          lu.set(i, j, lu.get(i, j) / lu.get(j, j));\n        }\n      }\n    }\n\n    this.LU = lu;\n    this.pivotVector = pivotVector;\n    this.pivotSign = pivotSign;\n  }\n\n  isSingular() {\n    let data = this.LU;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      if (data.get(j, j) === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let lu = this.LU;\n    let rows = lu.rows;\n\n    if (rows !== value.rows) {\n      throw new Error('Invalid matrix dimensions');\n    }\n    if (this.isSingular()) {\n      throw new Error('LU matrix is singular');\n    }\n\n    let count = value.columns;\n    let X = value.subMatrixRow(this.pivotVector, 0, count - 1);\n    let columns = lu.columns;\n    let i, j, k;\n\n    for (k = 0; k < columns; k++) {\n      for (i = k + 1; i < columns; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    for (k = columns - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / lu.get(k, k));\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    return X;\n  }\n\n  get determinant() {\n    let data = this.LU;\n    if (!data.isSquare()) {\n      throw new Error('Matrix must be square');\n    }\n    let determinant = this.pivotSign;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      determinant *= data.get(j, j);\n    }\n    return determinant;\n  }\n\n  get lowerTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i > j) {\n          X.set(i, j, data.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, 1);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get upperTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i <= j) {\n          X.set(i, j, data.get(i, j));\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get pivotPermutationVector() {\n    return Array.from(this.pivotVector);\n  }\n}\n","export function hypotenuse(a, b) {\n  let r = 0;\n  if (Math.abs(a) > Math.abs(b)) {\n    r = b / a;\n    return Math.abs(a) * Math.sqrt(1 + r * r);\n  }\n  if (b !== 0) {\n    r = a / b;\n    return Math.abs(b) * Math.sqrt(1 + r * r);\n  }\n  return 0;\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nimport { hypotenuse } from './util';\n\nexport default class QrDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let qr = value.clone();\n    let m = value.rows;\n    let n = value.columns;\n    let rdiag = new Float64Array(n);\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      let nrm = 0;\n      for (i = k; i < m; i++) {\n        nrm = hypotenuse(nrm, qr.get(i, k));\n      }\n      if (nrm !== 0) {\n        if (qr.get(k, k) < 0) {\n          nrm = -nrm;\n        }\n        for (i = k; i < m; i++) {\n          qr.set(i, k, qr.get(i, k) / nrm);\n        }\n        qr.set(k, k, qr.get(k, k) + 1);\n        for (j = k + 1; j < n; j++) {\n          s = 0;\n          for (i = k; i < m; i++) {\n            s += qr.get(i, k) * qr.get(i, j);\n          }\n          s = -s / qr.get(k, k);\n          for (i = k; i < m; i++) {\n            qr.set(i, j, qr.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n      rdiag[k] = -nrm;\n    }\n\n    this.QR = qr;\n    this.Rdiag = rdiag;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let qr = this.QR;\n    let m = qr.rows;\n\n    if (value.rows !== m) {\n      throw new Error('Matrix row dimensions must agree');\n    }\n    if (!this.isFullRank()) {\n      throw new Error('Matrix is rank deficient');\n    }\n\n    let count = value.columns;\n    let X = value.clone();\n    let n = qr.columns;\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      for (j = 0; j < count; j++) {\n        s = 0;\n        for (i = k; i < m; i++) {\n          s += qr.get(i, k) * X.get(i, j);\n        }\n        s = -s / qr.get(k, k);\n        for (i = k; i < m; i++) {\n          X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n        }\n      }\n    }\n    for (k = n - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / this.Rdiag[k]);\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * qr.get(i, k));\n        }\n      }\n    }\n\n    return X.subMatrix(0, n - 1, 0, count - 1);\n  }\n\n  isFullRank() {\n    let columns = this.QR.columns;\n    for (let i = 0; i < columns; i++) {\n      if (this.Rdiag[i] === 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  get upperTriangularMatrix() {\n    let qr = this.QR;\n    let n = qr.columns;\n    let X = new Matrix(n, n);\n    let i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        if (i < j) {\n          X.set(i, j, qr.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, this.Rdiag[i]);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get orthogonalMatrix() {\n    let qr = this.QR;\n    let rows = qr.rows;\n    let columns = qr.columns;\n    let X = new Matrix(rows, columns);\n    let i, j, k, s;\n\n    for (k = columns - 1; k >= 0; k--) {\n      for (i = 0; i < rows; i++) {\n        X.set(i, k, 0);\n      }\n      X.set(k, k, 1);\n      for (j = k; j < columns; j++) {\n        if (qr.get(k, k) !== 0) {\n          s = 0;\n          for (i = k; i < rows; i++) {\n            s += qr.get(i, k) * X.get(i, j);\n          }\n\n          s = -s / qr.get(k, k);\n\n          for (i = k; i < rows; i++) {\n            X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n    }\n    return X;\n  }\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nimport { hypotenuse } from './util';\n\nexport default class SingularValueDecomposition {\n  constructor(value, options = {}) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let m = value.rows;\n    let n = value.columns;\n\n    const {\n      computeLeftSingularVectors = true,\n      computeRightSingularVectors = true,\n      autoTranspose = false,\n    } = options;\n\n    let wantu = Boolean(computeLeftSingularVectors);\n    let wantv = Boolean(computeRightSingularVectors);\n\n    let swapped = false;\n    let a;\n    if (m < n) {\n      if (!autoTranspose) {\n        a = value.clone();\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose',\n        );\n      } else {\n        a = value.transpose();\n        m = a.rows;\n        n = a.columns;\n        swapped = true;\n        let aux = wantu;\n        wantu = wantv;\n        wantv = aux;\n      }\n    } else {\n      a = value.clone();\n    }\n\n    let nu = Math.min(m, n);\n    let ni = Math.min(m + 1, n);\n    let s = new Float64Array(ni);\n    let U = new Matrix(m, nu);\n    let V = new Matrix(n, n);\n\n    let e = new Float64Array(n);\n    let work = new Float64Array(m);\n\n    let si = new Float64Array(ni);\n    for (let i = 0; i < ni; i++) si[i] = i;\n\n    let nct = Math.min(m - 1, n);\n    let nrt = Math.max(0, Math.min(n - 2, m));\n    let mrc = Math.max(nct, nrt);\n\n    for (let k = 0; k < mrc; k++) {\n      if (k < nct) {\n        s[k] = 0;\n        for (let i = k; i < m; i++) {\n          s[k] = hypotenuse(s[k], a.get(i, k));\n        }\n        if (s[k] !== 0) {\n          if (a.get(k, k) < 0) {\n            s[k] = -s[k];\n          }\n          for (let i = k; i < m; i++) {\n            a.set(i, k, a.get(i, k) / s[k]);\n          }\n          a.set(k, k, a.get(k, k) + 1);\n        }\n        s[k] = -s[k];\n      }\n\n      for (let j = k + 1; j < n; j++) {\n        if (k < nct && s[k] !== 0) {\n          let t = 0;\n          for (let i = k; i < m; i++) {\n            t += a.get(i, k) * a.get(i, j);\n          }\n          t = -t / a.get(k, k);\n          for (let i = k; i < m; i++) {\n            a.set(i, j, a.get(i, j) + t * a.get(i, k));\n          }\n        }\n        e[j] = a.get(k, j);\n      }\n\n      if (wantu && k < nct) {\n        for (let i = k; i < m; i++) {\n          U.set(i, k, a.get(i, k));\n        }\n      }\n\n      if (k < nrt) {\n        e[k] = 0;\n        for (let i = k + 1; i < n; i++) {\n          e[k] = hypotenuse(e[k], e[i]);\n        }\n        if (e[k] !== 0) {\n          if (e[k + 1] < 0) {\n            e[k] = 0 - e[k];\n          }\n          for (let i = k + 1; i < n; i++) {\n            e[i] /= e[k];\n          }\n          e[k + 1] += 1;\n        }\n        e[k] = -e[k];\n        if (k + 1 < m && e[k] !== 0) {\n          for (let i = k + 1; i < m; i++) {\n            work[i] = 0;\n          }\n          for (let i = k + 1; i < m; i++) {\n            for (let j = k + 1; j < n; j++) {\n              work[i] += e[j] * a.get(i, j);\n            }\n          }\n          for (let j = k + 1; j < n; j++) {\n            let t = -e[j] / e[k + 1];\n            for (let i = k + 1; i < m; i++) {\n              a.set(i, j, a.get(i, j) + t * work[i]);\n            }\n          }\n        }\n        if (wantv) {\n          for (let i = k + 1; i < n; i++) {\n            V.set(i, k, e[i]);\n          }\n        }\n      }\n    }\n\n    let p = Math.min(n, m + 1);\n    if (nct < n) {\n      s[nct] = a.get(nct, nct);\n    }\n    if (m < p) {\n      s[p - 1] = 0;\n    }\n    if (nrt + 1 < p) {\n      e[nrt] = a.get(nrt, p - 1);\n    }\n    e[p - 1] = 0;\n\n    if (wantu) {\n      for (let j = nct; j < nu; j++) {\n        for (let i = 0; i < m; i++) {\n          U.set(i, j, 0);\n        }\n        U.set(j, j, 1);\n      }\n      for (let k = nct - 1; k >= 0; k--) {\n        if (s[k] !== 0) {\n          for (let j = k + 1; j < nu; j++) {\n            let t = 0;\n            for (let i = k; i < m; i++) {\n              t += U.get(i, k) * U.get(i, j);\n            }\n            t = -t / U.get(k, k);\n            for (let i = k; i < m; i++) {\n              U.set(i, j, U.get(i, j) + t * U.get(i, k));\n            }\n          }\n          for (let i = k; i < m; i++) {\n            U.set(i, k, -U.get(i, k));\n          }\n          U.set(k, k, 1 + U.get(k, k));\n          for (let i = 0; i < k - 1; i++) {\n            U.set(i, k, 0);\n          }\n        } else {\n          for (let i = 0; i < m; i++) {\n            U.set(i, k, 0);\n          }\n          U.set(k, k, 1);\n        }\n      }\n    }\n\n    if (wantv) {\n      for (let k = n - 1; k >= 0; k--) {\n        if (k < nrt && e[k] !== 0) {\n          for (let j = k + 1; j < n; j++) {\n            let t = 0;\n            for (let i = k + 1; i < n; i++) {\n              t += V.get(i, k) * V.get(i, j);\n            }\n            t = -t / V.get(k + 1, k);\n            for (let i = k + 1; i < n; i++) {\n              V.set(i, j, V.get(i, j) + t * V.get(i, k));\n            }\n          }\n        }\n        for (let i = 0; i < n; i++) {\n          V.set(i, k, 0);\n        }\n        V.set(k, k, 1);\n      }\n    }\n\n    let pp = p - 1;\n    let iter = 0;\n    let eps = Number.EPSILON;\n    while (p > 0) {\n      let k, kase;\n      for (k = p - 2; k >= -1; k--) {\n        if (k === -1) {\n          break;\n        }\n        const alpha =\n          Number.MIN_VALUE + eps * Math.abs(s[k] + Math.abs(s[k + 1]));\n        if (Math.abs(e[k]) <= alpha || Number.isNaN(e[k])) {\n          e[k] = 0;\n          break;\n        }\n      }\n      if (k === p - 2) {\n        kase = 4;\n      } else {\n        let ks;\n        for (ks = p - 1; ks >= k; ks--) {\n          if (ks === k) {\n            break;\n          }\n          let t =\n            (ks !== p ? Math.abs(e[ks]) : 0) +\n            (ks !== k + 1 ? Math.abs(e[ks - 1]) : 0);\n          if (Math.abs(s[ks]) <= eps * t) {\n            s[ks] = 0;\n            break;\n          }\n        }\n        if (ks === k) {\n          kase = 3;\n        } else if (ks === p - 1) {\n          kase = 1;\n        } else {\n          kase = 2;\n          k = ks;\n        }\n      }\n\n      k++;\n\n      switch (kase) {\n        case 1: {\n          let f = e[p - 2];\n          e[p - 2] = 0;\n          for (let j = p - 2; j >= k; j--) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            if (j !== k) {\n              f = -sn * e[j - 1];\n              e[j - 1] = cs * e[j - 1];\n            }\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, p - 1);\n                V.set(i, p - 1, -sn * V.get(i, j) + cs * V.get(i, p - 1));\n                V.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 2: {\n          let f = e[k - 1];\n          e[k - 1] = 0;\n          for (let j = k; j < p; j++) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            f = -sn * e[j];\n            e[j] = cs * e[j];\n            if (wantu) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, k - 1);\n                U.set(i, k - 1, -sn * U.get(i, j) + cs * U.get(i, k - 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 3: {\n          const scale = Math.max(\n            Math.abs(s[p - 1]),\n            Math.abs(s[p - 2]),\n            Math.abs(e[p - 2]),\n            Math.abs(s[k]),\n            Math.abs(e[k]),\n          );\n          const sp = s[p - 1] / scale;\n          const spm1 = s[p - 2] / scale;\n          const epm1 = e[p - 2] / scale;\n          const sk = s[k] / scale;\n          const ek = e[k] / scale;\n          const b = ((spm1 + sp) * (spm1 - sp) + epm1 * epm1) / 2;\n          const c = sp * epm1 * (sp * epm1);\n          let shift = 0;\n          if (b !== 0 || c !== 0) {\n            if (b < 0) {\n              shift = 0 - Math.sqrt(b * b + c);\n            } else {\n              shift = Math.sqrt(b * b + c);\n            }\n            shift = c / (b + shift);\n          }\n          let f = (sk + sp) * (sk - sp) + shift;\n          let g = sk * ek;\n          for (let j = k; j < p - 1; j++) {\n            let t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            let cs = f / t;\n            let sn = g / t;\n            if (j !== k) {\n              e[j - 1] = t;\n            }\n            f = cs * s[j] + sn * e[j];\n            e[j] = cs * e[j] - sn * s[j];\n            g = sn * s[j + 1];\n            s[j + 1] = cs * s[j + 1];\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, j + 1);\n                V.set(i, j + 1, -sn * V.get(i, j) + cs * V.get(i, j + 1));\n                V.set(i, j, t);\n              }\n            }\n            t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            cs = f / t;\n            sn = g / t;\n            s[j] = t;\n            f = cs * e[j] + sn * s[j + 1];\n            s[j + 1] = -sn * e[j] + cs * s[j + 1];\n            g = sn * e[j + 1];\n            e[j + 1] = cs * e[j + 1];\n            if (wantu && j < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, j + 1);\n                U.set(i, j + 1, -sn * U.get(i, j) + cs * U.get(i, j + 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          e[p - 2] = f;\n          iter = iter + 1;\n          break;\n        }\n        case 4: {\n          if (s[k] <= 0) {\n            s[k] = s[k] < 0 ? -s[k] : 0;\n            if (wantv) {\n              for (let i = 0; i <= pp; i++) {\n                V.set(i, k, -V.get(i, k));\n              }\n            }\n          }\n          while (k < pp) {\n            if (s[k] >= s[k + 1]) {\n              break;\n            }\n            let t = s[k];\n            s[k] = s[k + 1];\n            s[k + 1] = t;\n            if (wantv && k < n - 1) {\n              for (let i = 0; i < n; i++) {\n                t = V.get(i, k + 1);\n                V.set(i, k + 1, V.get(i, k));\n                V.set(i, k, t);\n              }\n            }\n            if (wantu && k < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = U.get(i, k + 1);\n                U.set(i, k + 1, U.get(i, k));\n                U.set(i, k, t);\n              }\n            }\n            k++;\n          }\n          iter = 0;\n          p--;\n          break;\n        }\n        // no default\n      }\n    }\n\n    if (swapped) {\n      let tmp = V;\n      V = U;\n      U = tmp;\n    }\n\n    this.m = m;\n    this.n = n;\n    this.s = s;\n    this.U = U;\n    this.V = V;\n  }\n\n  solve(value) {\n    let Y = value;\n    let e = this.threshold;\n    let scols = this.s.length;\n    let Ls = Matrix.zeros(scols, scols);\n\n    for (let i = 0; i < scols; i++) {\n      if (Math.abs(this.s[i]) <= e) {\n        Ls.set(i, i, 0);\n      } else {\n        Ls.set(i, i, 1 / this.s[i]);\n      }\n    }\n\n    let U = this.U;\n    let V = this.rightSingularVectors;\n\n    let VL = V.mmul(Ls);\n    let vrows = V.rows;\n    let urows = U.rows;\n    let VLU = Matrix.zeros(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < scols; k++) {\n          sum += VL.get(i, k) * U.get(j, k);\n        }\n        VLU.set(i, j, sum);\n      }\n    }\n\n    return VLU.mmul(Y);\n  }\n\n  solveForDiagonal(value) {\n    return this.solve(Matrix.diag(value));\n  }\n\n  inverse() {\n    let V = this.V;\n    let e = this.threshold;\n    let vrows = V.rows;\n    let vcols = V.columns;\n    let X = new Matrix(vrows, this.s.length);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < vcols; j++) {\n        if (Math.abs(this.s[j]) > e) {\n          X.set(i, j, V.get(i, j) / this.s[j]);\n        }\n      }\n    }\n\n    let U = this.U;\n\n    let urows = U.rows;\n    let ucols = U.columns;\n    let Y = new Matrix(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < ucols; k++) {\n          sum += X.get(i, k) * U.get(j, k);\n        }\n        Y.set(i, j, sum);\n      }\n    }\n\n    return Y;\n  }\n\n  get condition() {\n    return this.s[0] / this.s[Math.min(this.m, this.n) - 1];\n  }\n\n  get norm2() {\n    return this.s[0];\n  }\n\n  get rank() {\n    let tol = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON;\n    let r = 0;\n    let s = this.s;\n    for (let i = 0, ii = s.length; i < ii; i++) {\n      if (s[i] > tol) {\n        r++;\n      }\n    }\n    return r;\n  }\n\n  get diagonal() {\n    return Array.from(this.s);\n  }\n\n  get threshold() {\n    return (Number.EPSILON / 2) * Math.max(this.m, this.n) * this.s[0];\n  }\n\n  get leftSingularVectors() {\n    return this.U;\n  }\n\n  get rightSingularVectors() {\n    return this.V;\n  }\n\n  get diagonalMatrix() {\n    return Matrix.diag(this.s);\n  }\n}\n","import LuDecomposition from './dc/lu';\nimport QrDecomposition from './dc/qr';\nimport SingularValueDecomposition from './dc/svd';\nimport Matrix from './matrix';\nimport WrapperMatrix2D from './wrap/WrapperMatrix2D';\n\nexport function inverse(matrix, useSVD = false) {\n  matrix = WrapperMatrix2D.checkMatrix(matrix);\n  if (useSVD) {\n    return new SingularValueDecomposition(matrix).inverse();\n  } else {\n    return solve(matrix, Matrix.eye(matrix.rows));\n  }\n}\n\nexport function solve(leftHandSide, rightHandSide, useSVD = false) {\n  leftHandSide = WrapperMatrix2D.checkMatrix(leftHandSide);\n  rightHandSide = WrapperMatrix2D.checkMatrix(rightHandSide);\n  if (useSVD) {\n    return new SingularValueDecomposition(leftHandSide).solve(rightHandSide);\n  } else {\n    return leftHandSide.isSquare()\n      ? new LuDecomposition(leftHandSide).solve(rightHandSide)\n      : new QrDecomposition(leftHandSide).solve(rightHandSide);\n  }\n}\n","import LuDecomposition from './dc/lu';\nimport Matrix from './matrix';\nimport MatrixSelectionView from './views/selection';\n\nexport function determinant(matrix) {\n  matrix = Matrix.checkMatrix(matrix);\n  if (matrix.isSquare()) {\n    let a, b, c, d;\n    if (matrix.columns === 2) {\n      // 2 x 2 matrix\n      a = matrix.get(0, 0);\n      b = matrix.get(0, 1);\n      c = matrix.get(1, 0);\n      d = matrix.get(1, 1);\n\n      return a * d - b * c;\n    } else if (matrix.columns === 3) {\n      // 3 x 3 matrix\n      let subMatrix0, subMatrix1, subMatrix2;\n      subMatrix0 = new MatrixSelectionView(matrix, [1, 2], [1, 2]);\n      subMatrix1 = new MatrixSelectionView(matrix, [1, 2], [0, 2]);\n      subMatrix2 = new MatrixSelectionView(matrix, [1, 2], [0, 1]);\n      a = matrix.get(0, 0);\n      b = matrix.get(0, 1);\n      c = matrix.get(0, 2);\n\n      return (\n        a * determinant(subMatrix0) -\n        b * determinant(subMatrix1) +\n        c * determinant(subMatrix2)\n      );\n    } else {\n      // general purpose determinant using the LU decomposition\n      return new LuDecomposition(matrix).determinant;\n    }\n  } else {\n    throw Error('determinant can only be calculated for a square matrix');\n  }\n}\n","import SingularValueDecomposition from './dc/svd';\nimport Matrix from './matrix';\n\nfunction xrange(n, exception) {\n  let range = [];\n  for (let i = 0; i < n; i++) {\n    if (i !== exception) {\n      range.push(i);\n    }\n  }\n  return range;\n}\n\nfunction dependenciesOneRow(\n  error,\n  matrix,\n  index,\n  thresholdValue = 10e-10,\n  thresholdError = 10e-10,\n) {\n  if (error > thresholdError) {\n    return new Array(matrix.rows + 1).fill(0);\n  } else {\n    let returnArray = matrix.addRow(index, [0]);\n    for (let i = 0; i < returnArray.rows; i++) {\n      if (Math.abs(returnArray.get(i, 0)) < thresholdValue) {\n        returnArray.set(i, 0, 0);\n      }\n    }\n    return returnArray.to1DArray();\n  }\n}\n\nexport function linearDependencies(matrix, options = {}) {\n  const { thresholdValue = 10e-10, thresholdError = 10e-10 } = options;\n  matrix = Matrix.checkMatrix(matrix);\n\n  let n = matrix.rows;\n  let results = new Matrix(n, n);\n\n  for (let i = 0; i < n; i++) {\n    let b = Matrix.columnVector(matrix.getRow(i));\n    let Abis = matrix.subMatrixRow(xrange(n, i)).transpose();\n    let svd = new SingularValueDecomposition(Abis);\n    let x = svd.solve(b);\n    let error = Matrix.sub(b, Abis.mmul(x)).abs().max();\n    results.setRow(\n      i,\n      dependenciesOneRow(error, x, i, thresholdValue, thresholdError),\n    );\n  }\n  return results;\n}\n","import SVD from './dc/svd';\nimport Matrix from './matrix';\n\nexport function pseudoInverse(matrix, threshold = Number.EPSILON) {\n  matrix = Matrix.checkMatrix(matrix);\n  let svdSolution = new SVD(matrix, { autoTranspose: true });\n\n  let U = svdSolution.leftSingularVectors;\n  let V = svdSolution.rightSingularVectors;\n  let s = svdSolution.diagonal;\n\n  for (let i = 0; i < s.length; i++) {\n    if (Math.abs(s[i]) > threshold) {\n      s[i] = 1.0 / s[i];\n    } else {\n      s[i] = 0.0;\n    }\n  }\n\n  return V.mmul(Matrix.diag(s).mmul(U.transpose()));\n}\n","import Matrix from './matrix';\n\nexport function covariance(xMatrix, yMatrix = xMatrix, options = {}) {\n  xMatrix = new Matrix(xMatrix);\n  let yIsSame = false;\n  if (\n    typeof yMatrix === 'object' &&\n    !Matrix.isMatrix(yMatrix) &&\n    !Array.isArray(yMatrix)\n  ) {\n    options = yMatrix;\n    yMatrix = xMatrix;\n    yIsSame = true;\n  } else {\n    yMatrix = new Matrix(yMatrix);\n  }\n  if (xMatrix.rows !== yMatrix.rows) {\n    throw new TypeError('Both matrices must have the same number of rows');\n  }\n  const { center = true } = options;\n  if (center) {\n    xMatrix = xMatrix.center('column');\n    if (!yIsSame) {\n      yMatrix = yMatrix.center('column');\n    }\n  }\n  const cov = xMatrix.transpose().mmul(yMatrix);\n  for (let i = 0; i < cov.rows; i++) {\n    for (let j = 0; j < cov.columns; j++) {\n      cov.set(i, j, cov.get(i, j) * (1 / (xMatrix.rows - 1)));\n    }\n  }\n  return cov;\n}\n","import Matrix from './matrix';\n\nexport function correlation(xMatrix, yMatrix = xMatrix, options = {}) {\n  xMatrix = new Matrix(xMatrix);\n  let yIsSame = false;\n  if (\n    typeof yMatrix === 'object' &&\n    !Matrix.isMatrix(yMatrix) &&\n    !Array.isArray(yMatrix)\n  ) {\n    options = yMatrix;\n    yMatrix = xMatrix;\n    yIsSame = true;\n  } else {\n    yMatrix = new Matrix(yMatrix);\n  }\n  if (xMatrix.rows !== yMatrix.rows) {\n    throw new TypeError('Both matrices must have the same number of rows');\n  }\n\n  const { center = true, scale = true } = options;\n  if (center) {\n    xMatrix.center('column');\n    if (!yIsSame) {\n      yMatrix.center('column');\n    }\n  }\n  if (scale) {\n    xMatrix.scale('column');\n    if (!yIsSame) {\n      yMatrix.scale('column');\n    }\n  }\n\n  const sdx = xMatrix.standardDeviation('column', { unbiased: true });\n  const sdy = yIsSame\n    ? sdx\n    : yMatrix.standardDeviation('column', { unbiased: true });\n\n  const corr = xMatrix.transpose().mmul(yMatrix);\n  for (let i = 0; i < corr.rows; i++) {\n    for (let j = 0; j < corr.columns; j++) {\n      corr.set(\n        i,\n        j,\n        corr.get(i, j) * (1 / (sdx[i] * sdy[j])) * (1 / (xMatrix.rows - 1)),\n      );\n    }\n  }\n  return corr;\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nimport { hypotenuse } from './util';\n\nexport default class EigenvalueDecomposition {\n  constructor(matrix, options = {}) {\n    const { assumeSymmetric = false } = options;\n\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n    if (!matrix.isSquare()) {\n      throw new Error('Matrix is not a square matrix');\n    }\n\n    let n = matrix.columns;\n    let V = new Matrix(n, n);\n    let d = new Float64Array(n);\n    let e = new Float64Array(n);\n    let value = matrix;\n    let i, j;\n\n    let isSymmetric = false;\n    if (assumeSymmetric) {\n      isSymmetric = true;\n    } else {\n      isSymmetric = matrix.isSymmetric();\n    }\n\n    if (isSymmetric) {\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          V.set(i, j, value.get(i, j));\n        }\n      }\n      tred2(n, e, d, V);\n      tql2(n, e, d, V);\n    } else {\n      let H = new Matrix(n, n);\n      let ort = new Float64Array(n);\n      for (j = 0; j < n; j++) {\n        for (i = 0; i < n; i++) {\n          H.set(i, j, value.get(i, j));\n        }\n      }\n      orthes(n, H, ort, V);\n      hqr2(n, e, d, V, H);\n    }\n\n    this.n = n;\n    this.e = e;\n    this.d = d;\n    this.V = V;\n  }\n\n  get realEigenvalues() {\n    return Array.from(this.d);\n  }\n\n  get imaginaryEigenvalues() {\n    return Array.from(this.e);\n  }\n\n  get eigenvectorMatrix() {\n    return this.V;\n  }\n\n  get diagonalMatrix() {\n    let n = this.n;\n    let e = this.e;\n    let d = this.d;\n    let X = new Matrix(n, n);\n    let i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        X.set(i, j, 0);\n      }\n      X.set(i, i, d[i]);\n      if (e[i] > 0) {\n        X.set(i, i + 1, e[i]);\n      } else if (e[i] < 0) {\n        X.set(i, i - 1, e[i]);\n      }\n    }\n    return X;\n  }\n}\n\nfunction tred2(n, e, d, V) {\n  let f, g, h, i, j, k, hh, scale;\n\n  for (j = 0; j < n; j++) {\n    d[j] = V.get(n - 1, j);\n  }\n\n  for (i = n - 1; i > 0; i--) {\n    scale = 0;\n    h = 0;\n    for (k = 0; k < i; k++) {\n      scale = scale + Math.abs(d[k]);\n    }\n\n    if (scale === 0) {\n      e[i] = d[i - 1];\n      for (j = 0; j < i; j++) {\n        d[j] = V.get(i - 1, j);\n        V.set(i, j, 0);\n        V.set(j, i, 0);\n      }\n    } else {\n      for (k = 0; k < i; k++) {\n        d[k] /= scale;\n        h += d[k] * d[k];\n      }\n\n      f = d[i - 1];\n      g = Math.sqrt(h);\n      if (f > 0) {\n        g = -g;\n      }\n\n      e[i] = scale * g;\n      h = h - f * g;\n      d[i - 1] = f - g;\n      for (j = 0; j < i; j++) {\n        e[j] = 0;\n      }\n\n      for (j = 0; j < i; j++) {\n        f = d[j];\n        V.set(j, i, f);\n        g = e[j] + V.get(j, j) * f;\n        for (k = j + 1; k <= i - 1; k++) {\n          g += V.get(k, j) * d[k];\n          e[k] += V.get(k, j) * f;\n        }\n        e[j] = g;\n      }\n\n      f = 0;\n      for (j = 0; j < i; j++) {\n        e[j] /= h;\n        f += e[j] * d[j];\n      }\n\n      hh = f / (h + h);\n      for (j = 0; j < i; j++) {\n        e[j] -= hh * d[j];\n      }\n\n      for (j = 0; j < i; j++) {\n        f = d[j];\n        g = e[j];\n        for (k = j; k <= i - 1; k++) {\n          V.set(k, j, V.get(k, j) - (f * e[k] + g * d[k]));\n        }\n        d[j] = V.get(i - 1, j);\n        V.set(i, j, 0);\n      }\n    }\n    d[i] = h;\n  }\n\n  for (i = 0; i < n - 1; i++) {\n    V.set(n - 1, i, V.get(i, i));\n    V.set(i, i, 1);\n    h = d[i + 1];\n    if (h !== 0) {\n      for (k = 0; k <= i; k++) {\n        d[k] = V.get(k, i + 1) / h;\n      }\n\n      for (j = 0; j <= i; j++) {\n        g = 0;\n        for (k = 0; k <= i; k++) {\n          g += V.get(k, i + 1) * V.get(k, j);\n        }\n        for (k = 0; k <= i; k++) {\n          V.set(k, j, V.get(k, j) - g * d[k]);\n        }\n      }\n    }\n\n    for (k = 0; k <= i; k++) {\n      V.set(k, i + 1, 0);\n    }\n  }\n\n  for (j = 0; j < n; j++) {\n    d[j] = V.get(n - 1, j);\n    V.set(n - 1, j, 0);\n  }\n\n  V.set(n - 1, n - 1, 1);\n  e[0] = 0;\n}\n\nfunction tql2(n, e, d, V) {\n  let g, h, i, j, k, l, m, p, r, dl1, c, c2, c3, el1, s, s2, iter;\n\n  for (i = 1; i < n; i++) {\n    e[i - 1] = e[i];\n  }\n\n  e[n - 1] = 0;\n\n  let f = 0;\n  let tst1 = 0;\n  let eps = Number.EPSILON;\n\n  for (l = 0; l < n; l++) {\n    tst1 = Math.max(tst1, Math.abs(d[l]) + Math.abs(e[l]));\n    m = l;\n    while (m < n) {\n      if (Math.abs(e[m]) <= eps * tst1) {\n        break;\n      }\n      m++;\n    }\n\n    if (m > l) {\n      iter = 0;\n      do {\n        iter = iter + 1;\n\n        g = d[l];\n        p = (d[l + 1] - g) / (2 * e[l]);\n        r = hypotenuse(p, 1);\n        if (p < 0) {\n          r = -r;\n        }\n\n        d[l] = e[l] / (p + r);\n        d[l + 1] = e[l] * (p + r);\n        dl1 = d[l + 1];\n        h = g - d[l];\n        for (i = l + 2; i < n; i++) {\n          d[i] -= h;\n        }\n\n        f = f + h;\n\n        p = d[m];\n        c = 1;\n        c2 = c;\n        c3 = c;\n        el1 = e[l + 1];\n        s = 0;\n        s2 = 0;\n        for (i = m - 1; i >= l; i--) {\n          c3 = c2;\n          c2 = c;\n          s2 = s;\n          g = c * e[i];\n          h = c * p;\n          r = hypotenuse(p, e[i]);\n          e[i + 1] = s * r;\n          s = e[i] / r;\n          c = p / r;\n          p = c * d[i] - s * g;\n          d[i + 1] = h + s * (c * g + s * d[i]);\n\n          for (k = 0; k < n; k++) {\n            h = V.get(k, i + 1);\n            V.set(k, i + 1, s * V.get(k, i) + c * h);\n            V.set(k, i, c * V.get(k, i) - s * h);\n          }\n        }\n\n        p = (-s * s2 * c3 * el1 * e[l]) / dl1;\n        e[l] = s * p;\n        d[l] = c * p;\n      } while (Math.abs(e[l]) > eps * tst1);\n    }\n    d[l] = d[l] + f;\n    e[l] = 0;\n  }\n\n  for (i = 0; i < n - 1; i++) {\n    k = i;\n    p = d[i];\n    for (j = i + 1; j < n; j++) {\n      if (d[j] < p) {\n        k = j;\n        p = d[j];\n      }\n    }\n\n    if (k !== i) {\n      d[k] = d[i];\n      d[i] = p;\n      for (j = 0; j < n; j++) {\n        p = V.get(j, i);\n        V.set(j, i, V.get(j, k));\n        V.set(j, k, p);\n      }\n    }\n  }\n}\n\nfunction orthes(n, H, ort, V) {\n  let low = 0;\n  let high = n - 1;\n  let f, g, h, i, j, m;\n  let scale;\n\n  for (m = low + 1; m <= high - 1; m++) {\n    scale = 0;\n    for (i = m; i <= high; i++) {\n      scale = scale + Math.abs(H.get(i, m - 1));\n    }\n\n    if (scale !== 0) {\n      h = 0;\n      for (i = high; i >= m; i--) {\n        ort[i] = H.get(i, m - 1) / scale;\n        h += ort[i] * ort[i];\n      }\n\n      g = Math.sqrt(h);\n      if (ort[m] > 0) {\n        g = -g;\n      }\n\n      h = h - ort[m] * g;\n      ort[m] = ort[m] - g;\n\n      for (j = m; j < n; j++) {\n        f = 0;\n        for (i = high; i >= m; i--) {\n          f += ort[i] * H.get(i, j);\n        }\n\n        f = f / h;\n        for (i = m; i <= high; i++) {\n          H.set(i, j, H.get(i, j) - f * ort[i]);\n        }\n      }\n\n      for (i = 0; i <= high; i++) {\n        f = 0;\n        for (j = high; j >= m; j--) {\n          f += ort[j] * H.get(i, j);\n        }\n\n        f = f / h;\n        for (j = m; j <= high; j++) {\n          H.set(i, j, H.get(i, j) - f * ort[j]);\n        }\n      }\n\n      ort[m] = scale * ort[m];\n      H.set(m, m - 1, scale * g);\n    }\n  }\n\n  for (i = 0; i < n; i++) {\n    for (j = 0; j < n; j++) {\n      V.set(i, j, i === j ? 1 : 0);\n    }\n  }\n\n  for (m = high - 1; m >= low + 1; m--) {\n    if (H.get(m, m - 1) !== 0) {\n      for (i = m + 1; i <= high; i++) {\n        ort[i] = H.get(i, m - 1);\n      }\n\n      for (j = m; j <= high; j++) {\n        g = 0;\n        for (i = m; i <= high; i++) {\n          g += ort[i] * V.get(i, j);\n        }\n\n        g = g / ort[m] / H.get(m, m - 1);\n        for (i = m; i <= high; i++) {\n          V.set(i, j, V.get(i, j) + g * ort[i]);\n        }\n      }\n    }\n  }\n}\n\nfunction hqr2(nn, e, d, V, H) {\n  let n = nn - 1;\n  let low = 0;\n  let high = nn - 1;\n  let eps = Number.EPSILON;\n  let exshift = 0;\n  let norm = 0;\n  let p = 0;\n  let q = 0;\n  let r = 0;\n  let s = 0;\n  let z = 0;\n  let iter = 0;\n  let i, j, k, l, m, t, w, x, y;\n  let ra, sa, vr, vi;\n  let notlast, cdivres;\n\n  for (i = 0; i < nn; i++) {\n    if (i < low || i > high) {\n      d[i] = H.get(i, i);\n      e[i] = 0;\n    }\n\n    for (j = Math.max(i - 1, 0); j < nn; j++) {\n      norm = norm + Math.abs(H.get(i, j));\n    }\n  }\n\n  while (n >= low) {\n    l = n;\n    while (l > low) {\n      s = Math.abs(H.get(l - 1, l - 1)) + Math.abs(H.get(l, l));\n      if (s === 0) {\n        s = norm;\n      }\n      if (Math.abs(H.get(l, l - 1)) < eps * s) {\n        break;\n      }\n      l--;\n    }\n\n    if (l === n) {\n      H.set(n, n, H.get(n, n) + exshift);\n      d[n] = H.get(n, n);\n      e[n] = 0;\n      n--;\n      iter = 0;\n    } else if (l === n - 1) {\n      w = H.get(n, n - 1) * H.get(n - 1, n);\n      p = (H.get(n - 1, n - 1) - H.get(n, n)) / 2;\n      q = p * p + w;\n      z = Math.sqrt(Math.abs(q));\n      H.set(n, n, H.get(n, n) + exshift);\n      H.set(n - 1, n - 1, H.get(n - 1, n - 1) + exshift);\n      x = H.get(n, n);\n\n      if (q >= 0) {\n        z = p >= 0 ? p + z : p - z;\n        d[n - 1] = x + z;\n        d[n] = d[n - 1];\n        if (z !== 0) {\n          d[n] = x - w / z;\n        }\n        e[n - 1] = 0;\n        e[n] = 0;\n        x = H.get(n, n - 1);\n        s = Math.abs(x) + Math.abs(z);\n        p = x / s;\n        q = z / s;\n        r = Math.sqrt(p * p + q * q);\n        p = p / r;\n        q = q / r;\n\n        for (j = n - 1; j < nn; j++) {\n          z = H.get(n - 1, j);\n          H.set(n - 1, j, q * z + p * H.get(n, j));\n          H.set(n, j, q * H.get(n, j) - p * z);\n        }\n\n        for (i = 0; i <= n; i++) {\n          z = H.get(i, n - 1);\n          H.set(i, n - 1, q * z + p * H.get(i, n));\n          H.set(i, n, q * H.get(i, n) - p * z);\n        }\n\n        for (i = low; i <= high; i++) {\n          z = V.get(i, n - 1);\n          V.set(i, n - 1, q * z + p * V.get(i, n));\n          V.set(i, n, q * V.get(i, n) - p * z);\n        }\n      } else {\n        d[n - 1] = x + p;\n        d[n] = x + p;\n        e[n - 1] = z;\n        e[n] = -z;\n      }\n\n      n = n - 2;\n      iter = 0;\n    } else {\n      x = H.get(n, n);\n      y = 0;\n      w = 0;\n      if (l < n) {\n        y = H.get(n - 1, n - 1);\n        w = H.get(n, n - 1) * H.get(n - 1, n);\n      }\n\n      if (iter === 10) {\n        exshift += x;\n        for (i = low; i <= n; i++) {\n          H.set(i, i, H.get(i, i) - x);\n        }\n        s = Math.abs(H.get(n, n - 1)) + Math.abs(H.get(n - 1, n - 2));\n        x = y = 0.75 * s;\n        w = -0.4375 * s * s;\n      }\n\n      if (iter === 30) {\n        s = (y - x) / 2;\n        s = s * s + w;\n        if (s > 0) {\n          s = Math.sqrt(s);\n          if (y < x) {\n            s = -s;\n          }\n          s = x - w / ((y - x) / 2 + s);\n          for (i = low; i <= n; i++) {\n            H.set(i, i, H.get(i, i) - s);\n          }\n          exshift += s;\n          x = y = w = 0.964;\n        }\n      }\n\n      iter = iter + 1;\n\n      m = n - 2;\n      while (m >= l) {\n        z = H.get(m, m);\n        r = x - z;\n        s = y - z;\n        p = (r * s - w) / H.get(m + 1, m) + H.get(m, m + 1);\n        q = H.get(m + 1, m + 1) - z - r - s;\n        r = H.get(m + 2, m + 1);\n        s = Math.abs(p) + Math.abs(q) + Math.abs(r);\n        p = p / s;\n        q = q / s;\n        r = r / s;\n        if (m === l) {\n          break;\n        }\n        if (\n          Math.abs(H.get(m, m - 1)) * (Math.abs(q) + Math.abs(r)) <\n          eps *\n            (Math.abs(p) *\n              (Math.abs(H.get(m - 1, m - 1)) +\n                Math.abs(z) +\n                Math.abs(H.get(m + 1, m + 1))))\n        ) {\n          break;\n        }\n        m--;\n      }\n\n      for (i = m + 2; i <= n; i++) {\n        H.set(i, i - 2, 0);\n        if (i > m + 2) {\n          H.set(i, i - 3, 0);\n        }\n      }\n\n      for (k = m; k <= n - 1; k++) {\n        notlast = k !== n - 1;\n        if (k !== m) {\n          p = H.get(k, k - 1);\n          q = H.get(k + 1, k - 1);\n          r = notlast ? H.get(k + 2, k - 1) : 0;\n          x = Math.abs(p) + Math.abs(q) + Math.abs(r);\n          if (x !== 0) {\n            p = p / x;\n            q = q / x;\n            r = r / x;\n          }\n        }\n\n        if (x === 0) {\n          break;\n        }\n\n        s = Math.sqrt(p * p + q * q + r * r);\n        if (p < 0) {\n          s = -s;\n        }\n\n        if (s !== 0) {\n          if (k !== m) {\n            H.set(k, k - 1, -s * x);\n          } else if (l !== m) {\n            H.set(k, k - 1, -H.get(k, k - 1));\n          }\n\n          p = p + s;\n          x = p / s;\n          y = q / s;\n          z = r / s;\n          q = q / p;\n          r = r / p;\n\n          for (j = k; j < nn; j++) {\n            p = H.get(k, j) + q * H.get(k + 1, j);\n            if (notlast) {\n              p = p + r * H.get(k + 2, j);\n              H.set(k + 2, j, H.get(k + 2, j) - p * z);\n            }\n\n            H.set(k, j, H.get(k, j) - p * x);\n            H.set(k + 1, j, H.get(k + 1, j) - p * y);\n          }\n\n          for (i = 0; i <= Math.min(n, k + 3); i++) {\n            p = x * H.get(i, k) + y * H.get(i, k + 1);\n            if (notlast) {\n              p = p + z * H.get(i, k + 2);\n              H.set(i, k + 2, H.get(i, k + 2) - p * r);\n            }\n\n            H.set(i, k, H.get(i, k) - p);\n            H.set(i, k + 1, H.get(i, k + 1) - p * q);\n          }\n\n          for (i = low; i <= high; i++) {\n            p = x * V.get(i, k) + y * V.get(i, k + 1);\n            if (notlast) {\n              p = p + z * V.get(i, k + 2);\n              V.set(i, k + 2, V.get(i, k + 2) - p * r);\n            }\n\n            V.set(i, k, V.get(i, k) - p);\n            V.set(i, k + 1, V.get(i, k + 1) - p * q);\n          }\n        }\n      }\n    }\n  }\n\n  if (norm === 0) {\n    return;\n  }\n\n  for (n = nn - 1; n >= 0; n--) {\n    p = d[n];\n    q = e[n];\n\n    if (q === 0) {\n      l = n;\n      H.set(n, n, 1);\n      for (i = n - 1; i >= 0; i--) {\n        w = H.get(i, i) - p;\n        r = 0;\n        for (j = l; j <= n; j++) {\n          r = r + H.get(i, j) * H.get(j, n);\n        }\n\n        if (e[i] < 0) {\n          z = w;\n          s = r;\n        } else {\n          l = i;\n          if (e[i] === 0) {\n            H.set(i, n, w !== 0 ? -r / w : -r / (eps * norm));\n          } else {\n            x = H.get(i, i + 1);\n            y = H.get(i + 1, i);\n            q = (d[i] - p) * (d[i] - p) + e[i] * e[i];\n            t = (x * s - z * r) / q;\n            H.set(i, n, t);\n            H.set(\n              i + 1,\n              n,\n              Math.abs(x) > Math.abs(z) ? (-r - w * t) / x : (-s - y * t) / z,\n            );\n          }\n\n          t = Math.abs(H.get(i, n));\n          if (eps * t * t > 1) {\n            for (j = i; j <= n; j++) {\n              H.set(j, n, H.get(j, n) / t);\n            }\n          }\n        }\n      }\n    } else if (q < 0) {\n      l = n - 1;\n\n      if (Math.abs(H.get(n, n - 1)) > Math.abs(H.get(n - 1, n))) {\n        H.set(n - 1, n - 1, q / H.get(n, n - 1));\n        H.set(n - 1, n, -(H.get(n, n) - p) / H.get(n, n - 1));\n      } else {\n        cdivres = cdiv(0, -H.get(n - 1, n), H.get(n - 1, n - 1) - p, q);\n        H.set(n - 1, n - 1, cdivres[0]);\n        H.set(n - 1, n, cdivres[1]);\n      }\n\n      H.set(n, n - 1, 0);\n      H.set(n, n, 1);\n      for (i = n - 2; i >= 0; i--) {\n        ra = 0;\n        sa = 0;\n        for (j = l; j <= n; j++) {\n          ra = ra + H.get(i, j) * H.get(j, n - 1);\n          sa = sa + H.get(i, j) * H.get(j, n);\n        }\n\n        w = H.get(i, i) - p;\n\n        if (e[i] < 0) {\n          z = w;\n          r = ra;\n          s = sa;\n        } else {\n          l = i;\n          if (e[i] === 0) {\n            cdivres = cdiv(-ra, -sa, w, q);\n            H.set(i, n - 1, cdivres[0]);\n            H.set(i, n, cdivres[1]);\n          } else {\n            x = H.get(i, i + 1);\n            y = H.get(i + 1, i);\n            vr = (d[i] - p) * (d[i] - p) + e[i] * e[i] - q * q;\n            vi = (d[i] - p) * 2 * q;\n            if (vr === 0 && vi === 0) {\n              vr =\n                eps *\n                norm *\n                (Math.abs(w) +\n                  Math.abs(q) +\n                  Math.abs(x) +\n                  Math.abs(y) +\n                  Math.abs(z));\n            }\n            cdivres = cdiv(\n              x * r - z * ra + q * sa,\n              x * s - z * sa - q * ra,\n              vr,\n              vi,\n            );\n            H.set(i, n - 1, cdivres[0]);\n            H.set(i, n, cdivres[1]);\n            if (Math.abs(x) > Math.abs(z) + Math.abs(q)) {\n              H.set(\n                i + 1,\n                n - 1,\n                (-ra - w * H.get(i, n - 1) + q * H.get(i, n)) / x,\n              );\n              H.set(\n                i + 1,\n                n,\n                (-sa - w * H.get(i, n) - q * H.get(i, n - 1)) / x,\n              );\n            } else {\n              cdivres = cdiv(\n                -r - y * H.get(i, n - 1),\n                -s - y * H.get(i, n),\n                z,\n                q,\n              );\n              H.set(i + 1, n - 1, cdivres[0]);\n              H.set(i + 1, n, cdivres[1]);\n            }\n          }\n\n          t = Math.max(Math.abs(H.get(i, n - 1)), Math.abs(H.get(i, n)));\n          if (eps * t * t > 1) {\n            for (j = i; j <= n; j++) {\n              H.set(j, n - 1, H.get(j, n - 1) / t);\n              H.set(j, n, H.get(j, n) / t);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  for (i = 0; i < nn; i++) {\n    if (i < low || i > high) {\n      for (j = i; j < nn; j++) {\n        V.set(i, j, H.get(i, j));\n      }\n    }\n  }\n\n  for (j = nn - 1; j >= low; j--) {\n    for (i = low; i <= high; i++) {\n      z = 0;\n      for (k = low; k <= Math.min(j, high); k++) {\n        z = z + V.get(i, k) * H.get(k, j);\n      }\n      V.set(i, j, z);\n    }\n  }\n}\n\nfunction cdiv(xr, xi, yr, yi) {\n  let r, d;\n  if (Math.abs(yr) > Math.abs(yi)) {\n    r = yi / yr;\n    d = yr + r * yi;\n    return [(xr + r * xi) / d, (xi - r * xr) / d];\n  } else {\n    r = yr / yi;\n    d = yi + r * yr;\n    return [(r * xr + xi) / d, (r * xi - xr) / d];\n  }\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nexport default class CholeskyDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n    if (!value.isSymmetric()) {\n      throw new Error('Matrix is not symmetric');\n    }\n\n    let a = value;\n    let dimension = a.rows;\n    let l = new Matrix(dimension, dimension);\n    let positiveDefinite = true;\n    let i, j, k;\n\n    for (j = 0; j < dimension; j++) {\n      let d = 0;\n      for (k = 0; k < j; k++) {\n        let s = 0;\n        for (i = 0; i < k; i++) {\n          s += l.get(k, i) * l.get(j, i);\n        }\n        s = (a.get(j, k) - s) / l.get(k, k);\n        l.set(j, k, s);\n        d = d + s * s;\n      }\n\n      d = a.get(j, j) - d;\n\n      positiveDefinite &= d > 0;\n      l.set(j, j, Math.sqrt(Math.max(d, 0)));\n      for (k = j + 1; k < dimension; k++) {\n        l.set(j, k, 0);\n      }\n    }\n\n    this.L = l;\n    this.positiveDefinite = Boolean(positiveDefinite);\n  }\n\n  isPositiveDefinite() {\n    return this.positiveDefinite;\n  }\n\n  solve(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let l = this.L;\n    let dimension = l.rows;\n\n    if (value.rows !== dimension) {\n      throw new Error('Matrix dimensions do not match');\n    }\n    if (this.isPositiveDefinite() === false) {\n      throw new Error('Matrix is not positive definite');\n    }\n\n    let count = value.columns;\n    let B = value.clone();\n    let i, j, k;\n\n    for (k = 0; k < dimension; k++) {\n      for (j = 0; j < count; j++) {\n        for (i = 0; i < k; i++) {\n          B.set(k, j, B.get(k, j) - B.get(i, j) * l.get(k, i));\n        }\n        B.set(k, j, B.get(k, j) / l.get(k, k));\n      }\n    }\n\n    for (k = dimension - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        for (i = k + 1; i < dimension; i++) {\n          B.set(k, j, B.get(k, j) - B.get(i, j) * l.get(i, k));\n        }\n        B.set(k, j, B.get(k, j) / l.get(k, k));\n      }\n    }\n\n    return B;\n  }\n\n  get lowerTriangularMatrix() {\n    return this.L;\n  }\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nexport default class nipals {\n  constructor(X, options = {}) {\n    X = WrapperMatrix2D.checkMatrix(X);\n    let { Y } = options;\n    const {\n      scaleScores = false,\n      maxIterations = 1000,\n      terminationCriteria = 1e-10,\n    } = options;\n\n    let u;\n    if (Y) {\n      if (Array.isArray(Y) && typeof Y[0] === 'number') {\n        Y = Matrix.columnVector(Y);\n      } else {\n        Y = WrapperMatrix2D.checkMatrix(Y);\n      }\n      if (!Y.isColumnVector() || Y.rows !== X.rows) {\n        throw new Error('Y must be a column vector of length X.rows');\n      }\n      u = Y;\n    } else {\n      u = X.getColumnVector(0);\n    }\n\n    let diff = 1;\n    let t, q, w, tOld;\n\n    for (\n      let counter = 0;\n      counter < maxIterations && diff > terminationCriteria;\n      counter++\n    ) {\n      w = X.transpose().mmul(u).div(u.transpose().mmul(u).get(0, 0));\n      w = w.div(w.norm());\n\n      t = X.mmul(w).div(w.transpose().mmul(w).get(0, 0));\n\n      if (counter > 0) {\n        diff = t.clone().sub(tOld).pow(2).sum();\n      }\n      tOld = t.clone();\n\n      if (Y) {\n        q = Y.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n        q = q.div(q.norm());\n\n        u = Y.mmul(q).div(q.transpose().mmul(q).get(0, 0));\n      } else {\n        u = t;\n      }\n    }\n\n    if (Y) {\n      let p = X.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n      p = p.div(p.norm());\n      let xResidual = X.clone().sub(t.clone().mmul(p.transpose()));\n      let residual = u.transpose().mmul(t).div(t.transpose().mmul(t).get(0, 0));\n      let yResidual = Y.clone().sub(\n        t.clone().mulS(residual.get(0, 0)).mmul(q.transpose()),\n      );\n\n      this.t = t;\n      this.p = p.transpose();\n      this.w = w.transpose();\n      this.q = q;\n      this.u = u;\n      this.s = t.transpose().mmul(t);\n      this.xResidual = xResidual;\n      this.yResidual = yResidual;\n      this.betas = residual;\n    } else {\n      this.w = w.transpose();\n      this.s = t.transpose().mmul(t).sqrt();\n      if (scaleScores) {\n        this.t = t.clone().div(this.s.get(0, 0));\n      } else {\n        this.t = t;\n      }\n      this.xResidual = X.sub(t.mmul(w.transpose()));\n    }\n  }\n}\n","export { AbstractMatrix, default, default as Matrix } from './matrix';\nexport * from './views/index';\n\nexport { wrap } from './wrap/wrap';\nexport { default as WrapperMatrix1D } from './wrap/WrapperMatrix1D';\nexport { default as WrapperMatrix2D } from './wrap/WrapperMatrix2D';\n\nexport { solve, inverse } from './decompositions';\nexport { determinant } from './determinant';\nexport { linearDependencies } from './linearDependencies';\nexport { pseudoInverse } from './pseudoInverse';\nexport { covariance } from './covariance';\nexport { correlation } from './correlation';\n\nexport {\n  default as SingularValueDecomposition,\n  default as SVD,\n} from './dc/svd.js';\nexport {\n  default as EigenvalueDecomposition,\n  default as EVD,\n} from './dc/evd.js';\nexport {\n  default as CholeskyDecomposition,\n  default as CHO,\n} from './dc/cholesky.js';\nexport { default as LuDecomposition, default as LU } from './dc/lu.js';\nexport { default as QrDecomposition, default as QR } from './dc/qr.js';\nexport { default as Nipals, default as NIPALS } from './dc/nipals.js';\n","import { Matrix, MatrixTransposeView, EVD, SVD, NIPALS } from 'ml-matrix';\r\n\r\n/**\r\n * Creates new PCA (Principal Component Analysis) from the dataset\r\n * @param {Matrix} dataset - dataset or covariance matrix.\r\n * @param {Object} [options]\r\n * @param {boolean} [options.isCovarianceMatrix=false] - true if the dataset is a covariance matrix.\r\n * @param {string} [options.method='SVD'] - select which method to use: SVD (default), covarianceMatrirx or NIPALS.\r\n * @param {number} [options.nCompNIPALS=2] - number of components to be computed with NIPALS.\r\n * @param {boolean} [options.center=true] - should the data be centered (subtract the mean).\r\n * @param {boolean} [options.scale=false] - should the data be scaled (divide by the standard deviation).\r\n * @param {boolean} [options.ignoreZeroVariance=false] - ignore columns with zero variance if `scale` is `true`.\r\n * */\r\nexport class PCA {\r\n  constructor(dataset, options = {}) {\r\n    if (dataset === true) {\r\n      const model = options;\r\n      this.center = model.center;\r\n      this.scale = model.scale;\r\n      this.means = model.means;\r\n      this.stdevs = model.stdevs;\r\n      this.U = Matrix.checkMatrix(model.U);\r\n      this.S = model.S;\r\n      this.R = model.R;\r\n      this.excludedFeatures = model.excludedFeatures || [];\r\n      return;\r\n    }\r\n\r\n    dataset = new Matrix(dataset);\r\n\r\n    const {\r\n      isCovarianceMatrix = false,\r\n      method = 'SVD',\r\n      nCompNIPALS = 2,\r\n      center = true,\r\n      scale = false,\r\n      ignoreZeroVariance = false,\r\n    } = options;\r\n\r\n    this.center = center;\r\n    this.scale = scale;\r\n    this.means = null;\r\n    this.stdevs = null;\r\n    this.excludedFeatures = [];\r\n\r\n    if (isCovarianceMatrix) {\r\n      // User provided a covariance matrix instead of dataset.\r\n      this._computeFromCovarianceMatrix(dataset);\r\n      return;\r\n    }\r\n\r\n    this._adjust(dataset, ignoreZeroVariance);\r\n    switch (method) {\r\n      case 'covarianceMatrix': {\r\n        // User provided a dataset but wants us to compute and use the covariance matrix.\r\n        const covarianceMatrix = new MatrixTransposeView(dataset)\r\n          .mmul(dataset)\r\n          .div(dataset.rows - 1);\r\n        this._computeFromCovarianceMatrix(covarianceMatrix);\r\n        break;\r\n      }\r\n      case 'NIPALS': {\r\n        this._computeWithNIPALS(dataset, nCompNIPALS);\r\n        break;\r\n      }\r\n      case 'SVD': {\r\n        const svd = new SVD(dataset, {\r\n          computeLeftSingularVectors: false,\r\n          computeRightSingularVectors: true,\r\n          autoTranspose: true,\r\n        });\r\n\r\n        this.U = svd.rightSingularVectors;\r\n\r\n        const singularValues = svd.diagonal;\r\n        const eigenvalues = [];\r\n        for (const singularValue of singularValues) {\r\n          eigenvalues.push((singularValue * singularValue) / (dataset.rows - 1));\r\n        }\r\n        this.S = eigenvalues;\r\n        break;\r\n      }\r\n      default: {\r\n        throw new Error(`unknown method: ${method}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load a PCA model from JSON\r\n   * @param {Object} model\r\n   * @return {PCA}\r\n   */\r\n  static load(model) {\r\n    if (typeof model.name !== 'string') {\r\n      throw new TypeError('model must have a name property');\r\n    }\r\n    if (model.name !== 'PCA') {\r\n      throw new RangeError(`invalid model: ${model.name}`);\r\n    }\r\n    return new PCA(true, model);\r\n  }\r\n\r\n  /**\r\n   * Project the dataset into the PCA space\r\n   * @param {Matrix} dataset\r\n   * @param {Object} options\r\n   * @return {Matrix} dataset projected in the PCA space\r\n   */\r\n  predict(dataset, options = {}) {\r\n    const { nComponents = this.U.columns } = options;\r\n    dataset = new Matrix(dataset);\r\n    if (this.center) {\r\n      dataset.subRowVector(this.means);\r\n      if (this.scale) {\r\n        for (let i of this.excludedFeatures) {\r\n          dataset.removeColumn(i);\r\n        }\r\n        dataset.divRowVector(this.stdevs);\r\n      }\r\n    }\r\n    var predictions = dataset.mmul(this.U);\r\n    return predictions.subMatrix(0, predictions.rows - 1, 0, nComponents - 1);\r\n  }\r\n\r\n  /**\r\n   * Calculates the inverse PCA transform\r\n   * @param {Matrix} dataset\r\n   * @return {Matrix} dataset projected in the PCA space\r\n   */\r\n  invert(dataset) {\r\n    dataset = Matrix.checkMatrix(dataset);\r\n\r\n    var inverse = dataset.mmul(this.U.transpose());\r\n\r\n    if (this.center) {\r\n      if (this.scale) {\r\n        inverse.mulRowVector(this.stdevs);\r\n      }\r\n      inverse.addRowVector(this.means);\r\n    }\r\n\r\n    return inverse;\r\n  }\r\n\r\n\r\n  /**\r\n   * Returns the proportion of variance for each component\r\n   * @return {[number]}\r\n   */\r\n  getExplainedVariance() {\r\n    var sum = 0;\r\n    for (const s of this.S) {\r\n      sum += s;\r\n    }\r\n    return this.S.map((value) => value / sum);\r\n  }\r\n\r\n  /**\r\n   * Returns the cumulative proportion of variance\r\n   * @return {[number]}\r\n   */\r\n  getCumulativeVariance() {\r\n    var explained = this.getExplainedVariance();\r\n    for (var i = 1; i < explained.length; i++) {\r\n      explained[i] += explained[i - 1];\r\n    }\r\n    return explained;\r\n  }\r\n\r\n  /**\r\n   * Returns the Eigenvectors of the covariance matrix\r\n   * @returns {Matrix}\r\n   */\r\n  getEigenvectors() {\r\n    return this.U;\r\n  }\r\n\r\n  /**\r\n   * Returns the Eigenvalues (on the diagonal)\r\n   * @returns {[number]}\r\n   */\r\n  getEigenvalues() {\r\n    return this.S;\r\n  }\r\n\r\n  /**\r\n   * Returns the standard deviations of the principal components\r\n   * @returns {[number]}\r\n   */\r\n  getStandardDeviations() {\r\n    return this.S.map((x) => Math.sqrt(x));\r\n  }\r\n\r\n  /**\r\n   * Returns the loadings matrix\r\n   * @return {Matrix}\r\n   */\r\n  getLoadings() {\r\n    return this.U.transpose();\r\n  }\r\n\r\n  /**\r\n   * Export the current model to a JSON object\r\n   * @return {Object} model\r\n   */\r\n  toJSON() {\r\n    return {\r\n      name: 'PCA',\r\n      center: this.center,\r\n      scale: this.scale,\r\n      means: this.means,\r\n      stdevs: this.stdevs,\r\n      U: this.U,\r\n      S: this.S,\r\n      excludedFeatures: this.excludedFeatures,\r\n    };\r\n  }\r\n\r\n  _adjust(dataset, ignoreZeroVariance) {\r\n    if (this.center) {\r\n      const mean = dataset.mean('column');\r\n      const stdevs = this.scale\r\n        ? dataset.standardDeviation('column', { mean })\r\n        : null;\r\n      this.means = mean;\r\n      dataset.subRowVector(mean);\r\n      if (this.scale) {\r\n        for (let i = 0; i < stdevs.length; i++) {\r\n          if (stdevs[i] === 0) {\r\n            if (ignoreZeroVariance) {\r\n              dataset.removeColumn(i);\r\n              stdevs.splice(i, 1);\r\n              this.excludedFeatures.push(i);\r\n              i--;\r\n            } else {\r\n              throw new RangeError(\r\n                `Cannot scale the dataset (standard deviation is zero at index ${i}`,\r\n              );\r\n            }\r\n          }\r\n        }\r\n        this.stdevs = stdevs;\r\n        dataset.divRowVector(stdevs);\r\n      }\r\n    }\r\n  }\r\n\r\n  _computeFromCovarianceMatrix(dataset) {\r\n    const evd = new EVD(dataset, { assumeSymmetric: true });\r\n    this.U = evd.eigenvectorMatrix;\r\n    this.U.flipRows();\r\n    this.S = evd.realEigenvalues;\r\n    this.S.reverse();\r\n  }\r\n\r\n  _computeWithNIPALS(dataset, nCompNIPALS) {\r\n    this.U = new Matrix(nCompNIPALS, dataset.columns);\r\n    this.S = [];\r\n\r\n    let x = dataset;\r\n    for (let i = 0; i < nCompNIPALS; i++) {\r\n      let dc = new NIPALS(x);\r\n\r\n      this.U.setRow(i, dc.w.transpose());\r\n      this.S.push(Math.pow(dc.s.get(0, 0), 2));\r\n\r\n      x = dc.xResidual;\r\n    }\r\n    this.U = this.U.transpose(); // to be compatible with API\r\n  }\r\n}\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}